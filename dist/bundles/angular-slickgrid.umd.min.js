!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/Observable"),require("rxjs/add/operator/first"),require("rxjs/add/operator/take"),require("rxjs/add/operator/toPromise"),require("moment-mini"),require("@angular/core"),require("@ngx-translate/core"),require("rxjs/Subject"),require("text-encoding-utf-8"),require("dompurify"),require("lodash.isequal"),require("slickgrid/plugins/slick.cellrangedecorator"),require("slickgrid/plugins/slick.cellrangeselector"),require("slickgrid/plugins/slick.cellselectionmodel"),require("jquery-ui-dist/jquery-ui"),require("slickgrid/lib/jquery.event.drag-2.3.0"),require("slickgrid/slick.core"),require("slickgrid/slick.grid"),require("slickgrid/slick.dataview"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-slickgrid",["exports","rxjs/Observable","rxjs/add/operator/first","rxjs/add/operator/take","rxjs/add/operator/toPromise","moment-mini","@angular/core","@ngx-translate/core","rxjs/Subject","text-encoding-utf-8","dompurify","lodash.isequal","slickgrid/plugins/slick.cellrangedecorator","slickgrid/plugins/slick.cellrangeselector","slickgrid/plugins/slick.cellselectionmodel","jquery-ui-dist/jquery-ui","slickgrid/lib/jquery.event.drag-2.3.0","slickgrid/slick.core","slickgrid/slick.grid","slickgrid/slick.dataview","@angular/common"],t):t(e["angular-slickgrid"]={},e.Rx,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.moment,e.ng.core,e["ngx-translate-core"],e.Rx,e.textEncodingUtf8,e.dompurify,e.lodash.isequal,null,null,null,null,null,null,null,null,e.ng.common)}(this,function(e,r,t,i,n,o,f,s,a,l,u,c,d,h,p,m,g,v,y,S,b){"use strict";var O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function C(e,t){function i(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function _(t,s,a,l){return new(a||(a=Promise))(function(e,i){function r(e){try{o(l.next(e))}catch(t){i(t)}}function n(e){try{o(l["throw"](e))}catch(t){i(t)}}function o(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(r,n)}o((l=l.apply(t,s||[])).next())})}function E(r,n){var o,s,a,e,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function i(e){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(a=2&e[0]?s["return"]:e[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,e[1])).done)return a;switch(s=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,s=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=n.call(r,l)}catch(t){e=[6,t],s=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function T(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function x(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,o=i.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o["return"])&&i.call(o)}finally{if(n)throw n.error}}return s}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}var P={camelCase:0,pascalCase:1,snakeCase:2};P[P.camelCase]="camelCase",P[P.pascalCase]="pascalCase",P[P.snakeCase]="snakeCase";var D={colon:":",comma:",",equalSign:"=",pipe:"|",semicolon:";",space:" ",tab:"\t",doubleColon:"::",doublePipe:"||",doubleSemicolon:";;"},I={autoTooltip:"autoTooltip",cellExternalCopyManager:"cellExternalCopyManager",checkboxSelector:"checkboxSelector",columnPicker:"columnPicker",draggableGrouping:"draggableGrouping",groupItemMetaProvider:"groupItemMetaProvider",gridMenu:"gridMenu",headerButton:"headerButton",headerMenu:"headerMenu",noname:"noname",rowMoveManager:"rowMoveManager",rowSelection:"rowSelection"},A={unknown:0,string:1,"boolean":2,integer:3,"float":4,number:5,date:6,dateIso:7,dateUtc:8,dateTime:9,dateTimeIso:10,dateTimeIsoAmPm:11,dateTimeIsoAM_PM:12,dateTimeShortIso:13,dateUs:14,dateUsShort:15,dateTimeShortUs:16,dateTimeUs:17,dateTimeUsAmPm:18,dateTimeUsAM_PM:19,dateTimeUsShort:20,dateTimeUsShortAmPm:21,dateTimeUsShortAM_PM:22};A[A.unknown]="unknown",A[A.string]="string",A[A["boolean"]]="boolean",A[A.integer]="integer",A[A["float"]]="float",A[A.number]="number",A[A.date]="date",A[A.dateIso]="dateIso",A[A.dateUtc]="dateUtc",A[A.dateTime]="dateTime",A[A.dateTimeIso]="dateTimeIso",A[A.dateTimeIsoAmPm]="dateTimeIsoAmPm",A[A.dateTimeIsoAM_PM]="dateTimeIsoAM_PM",A[A.dateTimeShortIso]="dateTimeShortIso",A[A.dateUs]="dateUs",A[A.dateUsShort]="dateUsShort",A[A.dateTimeShortUs]="dateTimeShortUs",A[A.dateTimeUs]="dateTimeUs",A[A.dateTimeUsAmPm]="dateTimeUsAmPm",A[A.dateTimeUsAM_PM]="dateTimeUsAM_PM",A[A.dateTimeUsShort]="dateTimeUsShort",A[A.dateTimeUsShortAmPm]="dateTimeUsShortAmPm",A[A.dateTimeUsShortAM_PM]="dateTimeUsShortAM_PM";var k={csv:"csv",doc:"doc",docx:"docx",pdf:"pdf",txt:"txt",xls:"xls",xlsx:"xlsx"},F={merge:"merge",chain:"chain"},M={columns:"columns",filter:"filter",pagination:"pagination",sorter:"sorter"},N={BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38};N[N.BACKSPACE]="BACKSPACE",N[N.DELETE]="DELETE",N[N.DOWN]="DOWN",N[N.END]="END",N[N.ENTER]="ENTER",N[N.ESCAPE]="ESCAPE",N[N.HOME]="HOME",N[N.INSERT]="INSERT",N[N.LEFT]="LEFT",N[N.PAGE_DOWN]="PAGE_DOWN",N[N.PAGE_UP]="PAGE_UP",N[N.RIGHT]="RIGHT",N[N.TAB]="TAB",N[N.UP]="UP";var V={empty:"",contains:"Contains",notContains:"Not_Contains",lessThan:"LT",lessThanOrEqual:"LE",greaterThan:"GT",greaterThanOrEqual:"GE",notEqual:"NE",equal:"EQ",endsWith:"EndsWith",startsWith:"StartsWith","in":"IN",notIn:"NOT_IN",inContains:"IN_CONTAINS",notInContains:"NOT_IN_CONTAINS"},R={asc:"asc",ASC:"ASC",desc:"desc",DESC:"DESC"},G={asc:1,desc:-1,neutral:0};G[G.asc]="asc",G[G.desc]="desc",G[G.neutral]="neutral";var H=o;function L(e){for(var t="",i=0;i<e;i++)t+=" ";return t}function j(e){return $("<div/>").text(e).html()}function B(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}function U(e,t,i){if(void 0===i&&(i=!1),e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;i||(e.sort(),t.sort());for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function z(e,t){void 0===t&&(t="");var i=e;if(e instanceof Promise)return e;if(e instanceof r.Observable&&((i=e.first().toPromise())instanceof Promise||(i=e.take(1).toPromise()),!(i instanceof Promise)))throw new Error("Something went wrong, Angular-Slickgrid "+t+" is not able to convert the Observable into a Promise.\n        If you are using Angular HttpClient, you could try converting your http call to a Promise with \".toPromise()\"\n        for example::  this.http.post('graphql', { query: graphqlQuery }).toPromise()\n        ");return i}function q(e,t,i){return void 0===i&&(i={}),e.find(t)||i}function W(e,t,i){if(isNaN(+e))return e;var r=t===undefined?2:t,n=i===undefined?2:i,o=String(Math.round(+e*Math.pow(10,n))/Math.pow(10,n));for(o.indexOf(".")<0&&(o+=".");o.length-o.indexOf(".")<=r;)o+="0";return o}function Y(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function X(){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=$("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),Math.ceil(100-t)}function Q(e){var t;switch(e){case A.dateTime:case A.dateTimeIso:t="YYYY-MM-DD HH:mm:ss";break;case A.dateTimeShortIso:t="YYYY-MM-DD HH:mm";break;case A.dateTimeIsoAmPm:t="YYYY-MM-DD hh:mm:ss a";break;case A.dateTimeIsoAM_PM:t="YYYY-MM-DD hh:mm:ss A";break;case A.dateUs:t="MM/DD/YYYY";break;case A.dateUsShort:t="M/D/YY";break;case A.dateTimeUs:t="MM/DD/YYYY HH:mm:ss";break;case A.dateTimeShortUs:t="MM/DD/YYYY HH:mm";break;case A.dateTimeUsAmPm:t="MM/DD/YYYY hh:mm:ss a";break;case A.dateTimeUsAM_PM:t="MM/DD/YYYY hh:mm:ss A";break;case A.dateTimeUsShort:t="M/D/YY H:m:s";break;case A.dateTimeUsShortAmPm:t="M/D/YY h:m:s a";break;case A.dateUtc:t="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case A.date:case A.dateIso:default:t="YYYY-MM-DD"}return t}function K(e){var t;switch(e){case A.dateTime:case A.dateTimeIso:t="Y-m-d H:i:S";break;case A.dateTimeIsoAmPm:case A.dateTimeIsoAM_PM:t="Y-m-d h:i:S K";break;case A.dateUs:t="m/d/Y";break;case A.dateUsShort:t="m/d/y";break;case A.dateTimeUs:t="m/d/Y H:i:S";break;case A.dateTimeUsAmPm:t="m/d/Y h:i:S K";break;case A.dateTimeUsAM_PM:t="m/d/Y h:i:s K";break;case A.dateTimeUsShort:t="m/d/y H:i:s";break;case A.dateTimeUsShortAmPm:t="m/d/y h:i:s K";break;case A.dateUtc:t="Z";break;case A.date:case A.dateIso:default:t="Y-m-d"}return t}function Z(e){var t;switch(e){case"<":t=V.lessThan;break;case"<=":t=V.lessThanOrEqual;break;case">":t=V.greaterThan;break;case">=":t=V.greaterThanOrEqual;break;case"<>":case"!=":case"neq":case"NEQ":t=V.notEqual;break;case"*":case".*":case"startsWith":t=V.startsWith;break;case"*.":case"endsWith":t=V.endsWith;break;case"=":case"==":case"eq":case"EQ":t=V.equal;break;case"in":case"IN":t=V["in"];break;case"notIn":case"NIN":case"NOT_IN":t=V.notIn;break;default:t=V.contains}return t}function J(e){var t;switch(e){case A.string:case A.unknown:t=V.contains;break;case A["float"]:case A.number:case A.date:case A.dateIso:case A.date:case A.dateUtc:case A.dateTime:case A.dateTimeIso:case A.dateTimeIsoAmPm:case A.dateTimeIsoAM_PM:case A.dateUs:case A.dateUsShort:case A.dateTimeUs:case A.dateTimeUsAmPm:case A.dateTimeUsAM_PM:case A.dateTimeUsShort:case A.dateTimeUsShortAmPm:case A.dateTimeUsShortAM_PM:default:t=V.equal}return t}function ee(e,t){var i=null;if(/^[0-9\-\/]*$/.test(e)){var r=decodeURIComponent(e),n=H(new Date(r));n.isValid()&&4===n.year().toString().length&&(i=t?n.utc().format():n.format())}return i}function te(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}function ie(e){return e.charAt(0).toUpperCase()+e.slice(1)}function re(e){return e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,function(e,t){return/[\s+\-_\/]/.test(e)?"":0===t?e.toLowerCase():e.toUpperCase()})}function ne(i){return i.filter(function(e,t){return i.indexOf(e)>=t})}function oe(e){return Array.isArray(e)&&(e.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()}),e=[]),e}var se=o;function ae(e,t,i,r,n){var o=0;if(null!==e&&""!==e&&se(e,i,n).isValid())if(null!==t&&""!==t&&se(t,i,n).isValid()){var s=se(e,i,n),a=se(t,i,n);o=parseInt(s.format("X"),10)-parseInt(a.format("X"),10)}else o=1;else o=-1;return r*(0===o?0:0<o?1:-1)}var le=Q(A.dateUsShort),ue=function(e,t,i){return ae(e,t,le,i,!0)},ce=o,de=function(e,t,i){return ae(e,t,ce.ISO_8601,i)},he=Q(A.dateIso),pe=function(e,t,i){return ae(e,t,he,i,!0)},fe=Q(A.dateUs),me=function(e,t,i){return ae(e,t,fe,i,!0)},ge=function(e,t,i){var r=isNaN(e)||""===e||null===e?-99e10:parseFloat(e),n=isNaN(t)||""===t||null===t?-99e10:parseFloat(t);return i*(r===n?0:n<r?1:-1)},ve=function(e,t,i){var r;return null===e?r=-1:null===t?r=1:e===t?r=0:i?r=e<t?-1:1:i||(r=e<t?1:-1),i*r},ye={date:de,dateIso:pe,dateUs:me,dateUsShort:ue,numeric:ge,string:ve};function Se(e,t,i,r){var n=0;switch(i){case A.number:n=ye.numeric(e,t,r);break;case A.date:n=ye.date(e,t,r);break;case A.dateIso:n=ye.dateIso(e,t,r);break;case A.dateUs:n=ye.dateUs(e,t,r);break;case A.dateUsShort:n=ye.dateUsShort(e,t,r);break;default:n=ye.string(e,t,r)}return n}var be=function(){function e(e){this.translate=e}return e.prototype.filterCollection=function(e,t,i){void 0===i&&(i=F.chain);var r,n,o=[];if(Array.isArray(t)){o=i===F.merge?[]:e;try{for(var s=T(t),a=s.next();!a.done;a=s.next()){var l=a.value;if(i===F.merge)o=ne(w(o,this.singleFilterCollection(e,l)));else o=this.singleFilterCollection(o,l)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=s["return"])&&n.call(s)}finally{if(r)throw r.error}}}else o=this.singleFilterCollection(e,t);return o},e.prototype.singleFilterCollection=function(e,t){var i=[];if(t){var r=t.property||"",n=t.operator||V.equal,o="undefined"==typeof t.value?"":t.value;switch(n){case V.equal:i=e.filter(function(e){return e[r]===o});break;case V.contains:i=e.filter(function(e){return-1!==e[r].toString().indexOf(o.toString())});break;case V.notContains:i=e.filter(function(e){return-1===e[r].toString().indexOf(o.toString())});break;case V.notEqual:default:i=e.filter(function(e){return e[r]!==o})}}return i},e.prototype.sortCollection=function(e,u,c){var d=this,t=[];if(u)if(Array.isArray(u))t=e.sort(function(e,t){for(var i=0,r=u.length;i<r;i++){var n=u[i];if(n){var o=n.sortDesc?G.desc:G.asc,s=n.property||"",a=n.fieldType||A.string,l=Se(c?d.translate.instant(e[s]||" "):e[s],c?d.translate.instant(t[s]||" "):t[s],a,o);if(l!==G.neutral)return l}}return G.neutral});else{var r=u.property||"",n=u.sortDesc?G.desc:G.asc,o=u.fieldType||A.string;t=e.sort(function(e,t){var i=Se(c?d.translate.instant(e[r]||" "):e[r],c?d.translate.instant(t[r]||" "):t[r],o,n);return i!==G.neutral?i:G.neutral})}return t},e}();be.decorators=[{type:f.Injectable}],be.ctorParameters=function(){return[{type:s.TranslateService}]};var Oe=function(){function e(e){this.translate=e,this._lineCarriageReturn="\n",this._hasGroupedItems=!1,this.onGridBeforeExportToFile=new a.Subject,this.onGridAfterExportToFile=new a.Subject}return Object.defineProperty(e.prototype,"datasetIdName",{get:function(){return this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,this._dataView=t},e.prototype.exportToFile=function(e){var t=this;this.onGridBeforeExportToFile.next(!0),this._exportOptions=$.extend(!0,{},this._gridOptions.exportOptions,e);var i=this.getDataOutput();setTimeout(function(){var e={filename:t._exportOptions.filename+"."+t._exportOptions.format,csvContent:i,format:t._exportOptions.format,useUtf8WithBom:t._exportOptions.useUtf8WithBom};t.startDownloadFile(e),t.onGridAfterExportToFile.next({options:e})},0)},e.prototype.getDataOutput=function(){var t=this,e=this._grid.getColumns()||[],i=this._exportOptions.delimiter||"",r=this._exportOptions.format||"",n=this._exportOptions.groupingColumnHeaderTitle||this.translate.instant("GROUP_BY");this._exportQuoteWrapper=r===k.csv?'"':"";var o="",s=this._dataView.getGrouping();(s&&Array.isArray(s)&&0<s.length?(this._hasGroupedItems=!0,o+=""+n+i):this._hasGroupedItems=!1,this._columnHeaders=this.getColumnHeaders(e)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&0<this._columnHeaders.length)&&(o+=this._columnHeaders.map(function(e){return t._exportQuoteWrapper+e.title+t._exportQuoteWrapper}).join(i)+this._lineCarriageReturn);return o+=this.getAllGridRowData(e,this._lineCarriageReturn)},e.prototype.getAllGridRowData=function(e,t){for(var i=[],r=this._dataView.getLength(),n=0;n<r;n++){var o=this._dataView.getItem(n);null!=o&&(null!=o[this.datasetIdName]?i.push(this.readRegularRowData(e,n,o)):this._hasGroupedItems&&o.__groupTotals===undefined?i.push(this.readGroupedTitleRow(o)):o.__groupTotals&&i.push(this.readGroupedTotalRow(e,o)))}return i.join(this._lineCarriageReturn)},e.prototype.getColumnHeaders=function(e){var r=this;if(!e||!Array.isArray(e)||0===e.length)return null;var n=[];return e.forEach(function(e){var t=e.headerKey?r.translate.instant(e.headerKey):e.name,i=e.excludeFromExport||!1;(e.width===undefined||0<e.width)&&!i&&n.push({key:e.field||e.id,title:t})}),n},e.prototype.readRegularRowData=function(e,t,i){for(var r=0,n=[],o=this._exportOptions.delimiter,s=this._exportOptions.format,a=this._exportQuoteWrapper||"",l=0,u=e.length;l<u;l++){var c=e[l],d=c.field||c.id||"";if(!c.excludeFromExport){this._hasGroupedItems&&0===r&&n.push('""');var h=c.exportWithFormatter!==undefined?c.exportWithFormatter:this._exportOptions.exportWithFormatter,p=c.exportCustomFormatter!==undefined?c.exportCustomFormatter:undefined,f="";f=p?p(t,l,i[d],c,i,this._grid):h&&c.formatter?c.formatter(t,l,i[d],c,i,this._grid):null===i[d]||i[d]===undefined?"":i[d],(c.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(f=te(f)),s===k.csv&&f&&(f=f.toString().replace(/"/gi,'""'));var m=c&&c.exportCsvForceToKeepAsString?"=":"";n.push(m+a+f+a),r++}}return n.join(o)},e.prototype.readGroupedTitleRow=function(e){var t=te(e.title),i=this._exportQuoteWrapper||"",r=this._exportOptions.format;return t=L(5*e.level)+t,r===k.csv&&(t=t.toString().replace(/"/gi,'""')),i+" "+t+i},e.prototype.readGroupedTotalRow=function(e,i){var r=this,t=this._exportOptions.delimiter,n=this._exportOptions.format,o=this._exportOptions.groupingAggregatorRowText||"",s=this._exportQuoteWrapper||"",a=[""+s+o+s];return e.forEach(function(e){var t="";e.groupTotalsFormatter&&(t=e.groupTotalsFormatter(i,e)),(e.sanitizeDataExport||r._exportOptions.sanitizeDataExport)&&(t=te(t)),n===k.csv&&(t=t.toString().replace(/"/gi,'""')),a.push(s+t+s)}),a.join(t)},e.prototype.startDownloadFile=function(e){if("Microsoft Internet Explorer"===navigator.appName)throw new Error("Microsoft Internet Explorer 6 to 10 do not support javascript export to CSV. Please upgrade your browser.");var t,i=e.format===k.csv?"text/csv":"text/plain",r=B(e.csvContent);t=e.format===k.csv?new l.TextEncoder("utf-8").encode(r):r;var n=new Blob([e.useUtf8WithBom?"\ufeff":"",t],{type:i+";charset=utf-8;"});if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,e.filename);else{var o=document.createElement("a"),s=URL.createObjectURL(n);o.textContent="download",o.href=s,o.setAttribute("download",e.filename),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},e}();Oe.decorators=[{type:f.Injectable}],Oe.ctorParameters=function(){return[{type:s.TranslateService}]};var Ce=function gr(){};Ce.TEXT_CANCEL="Cancel",Ce.TEXT_CLEAR_ALL_FILTERS="Clear All Filters",Ce.TEXT_CLEAR_ALL_SORTING="Clear All Sorting",Ce.TEXT_COLUMNS="Columns",Ce.TEXT_COMMANDS="Commands",Ce.TEXT_EXPORT_IN_CSV_FORMAT="Export in CSV format",Ce.TEXT_EXPORT_IN_TEXT_FORMAT="Export in Text format (Tab delimited)",Ce.TEXT_FORCE_FIT_COLUMNS="Force fit columns",Ce.TEXT_HIDE_COLUMN="Hide Column",Ce.TEXT_REFRESH_DATASET="Refresh Dataset",Ce.TEXT_SAVE="Save",Ce.TEXT_SYNCHRONOUS_RESIZE="Synchronous resize",Ce.TEXT_SORT_ASCENDING="Sort Ascending",Ce.TEXT_SORT_DESCENDING="Sort Descending",Ce.TEXT_TOGGLE_FILTER_ROW="Toggle Filter Row",Ce.TEXT_TOGGLE_PRE_HEADER_ROW="Toggle Pre-Header Row",Ce.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",Ce.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",Ce.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",Ce.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",Ce.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",Ce.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals";var _e=function(){function e(){}return Object.defineProperty(e.prototype,"allColumns",{get:function(){return this._allColumns},set:function(e){this._allColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._dataView=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},set:function(e){this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},set:function(e){this.gridOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupItemMetadataProvider",{get:function(){return this._groupItemMetadataProvider},set:function(e){this._groupItemMetadataProvider=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this._visibleColumns},set:function(e){this._visibleColumns=e},enumerable:!0,configurable:!0}),e}(),Ee=function(){function e(e,t){this.sharedService=e,this.translate=t}return e.prototype.arrayRemoveItemByIndex=function(e,i){return e.filter(function(e,t){return i!==t})},e.prototype.loadExtensionDynamically=function(e){try{switch(e){case I.autoTooltip:require("slickgrid/plugins/slick.autotooltips");break;case I.cellExternalCopyManager:require("slickgrid/plugins/slick.cellexternalcopymanager");break;case I.checkboxSelector:require("slickgrid/plugins/slick.checkboxselectcolumn");break;case I.columnPicker:require("slickgrid/controls/slick.columnpicker");break;case I.draggableGrouping:require("slickgrid/plugins/slick.draggablegrouping.js");break;case I.gridMenu:require("slickgrid/controls/slick.gridmenu");break;case I.groupItemMetaProvider:require("slickgrid/slick.groupitemmetadataprovider");break;case I.headerButton:require("slickgrid/plugins/slick.headerbuttons");break;case I.headerMenu:require("slickgrid/plugins/slick.headermenu");break;case I.rowSelection:require("slickgrid/plugins/slick.rowselectionmodel");break;case I.rowMoveManager:require("slickgrid/plugins/slick.rowmovemanager.js")}}catch(t){}},e.prototype.getPickerTitleOutputString=function(e,t){var i="",r=this.sharedService.gridOptions&&this.sharedService.gridOptions[t]||{},n=this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate||!1,o=r&&r[e],s=r&&r[e+"Key"];if(s)i=this.translate.instant(s||" ");else switch(e){case"customTitle":i=o||(n?this.translate.instant("COMMANDS"):Ce.TEXT_COMMANDS);break;case"columnTitle":i=o||(n?this.translate.instant("COLUMNS"):Ce.TEXT_COLUMNS);break;case"forceFitTitle":i=o||(n?this.translate.instant("FORCE_FIT_COLUMNS"):Ce.TEXT_FORCE_FIT_COLUMNS);break;case"syncResizeTitle":i=o||(n?this.translate.instant("SYNCHRONOUS_RESIZE"):Ce.TEXT_SYNCHRONOUS_RESIZE);break;default:i=o}return i},e.prototype.sortItems=function(e,i){e.sort(function(e,t){return e&&t&&e.hasOwnProperty(i)&&t.hasOwnProperty(i)?e[i]-t[i]:0})},e.prototype.translateItems=function(e,t,i){try{for(var r=T(e),n=r.next();!n.done;n=r.next()){var o=n.value;o[t]&&(o[i]=this.translate.instant(o[t]))}}catch(l){s={error:l}}finally{try{n&&!n.done&&(a=r["return"])&&a.call(r)}finally{if(s)throw s.error}}var s,a},e}();Ee.decorators=[{type:f.Injectable}],Ee.ctorParameters=function(){return[{type:_e},{type:s.TranslateService}]};var Te=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(I.autoTooltip),this._extension=new Slick.AutoTooltips(this.sharedService.gridOptions.autoTooltipOptions||{}),this.sharedService.grid.registerPlugin(this._extension),this._extension):null},e}();Te.decorators=[{type:f.Injectable}],Te.ctorParameters=function(){return[{type:Ee},{type:_e}]};var xe=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var n=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(I.cellExternalCopyManager),this.createUndoRedoBuffer(),this.hookUndoShortcutKey();var r=0,e={clipboardCommandHandler:function(e){n._undoRedoBuffer.queueAndExecuteCommand.call(n._undoRedoBuffer,e)},dataItemColumnValueExtractor:function(e,t){if(!n.sharedService.gridOptions.editable||!t.editor){var i=t.exportWithFormatter!==undefined?t.exportWithFormatter:n.sharedService.gridOptions.exportOptions&&n.sharedService.gridOptions.exportOptions.exportWithFormatter;if(t.formatter&&i){var r=t.formatter(0,0,e[t.field],t,e,n.sharedService.grid);return t.sanitizeDataExport||n.sharedService.gridOptions.exportOptions&&n.sharedService.gridOptions.exportOptions.sanitizeDataExport?te(r):r}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(e){for(var t=0;t<e;t++){var i={id:"newRow_"+r++};n.sharedService.grid.getData().addItem(i)}}};return this.sharedService.grid.setSelectionModel(new Slick.CellSelectionModel),this._extension=new Slick.CellExternalCopyManager(e),this.sharedService.grid.registerPlugin(this._extension),this._extension}return null},e.prototype.createUndoRedoBuffer=function(){var t=[],i=0;this._undoRedoBuffer={queueAndExecuteCommand:function(e){t[i]=e,i++,e.execute()},undo:function(){if(0!==i){var e=t[--i];e&&Slick.GlobalEditorLock.cancelCurrentEdit()&&e.undo()}},redo:function(){if(!(i>=t.length)){var e=t[i];i++,e&&Slick.GlobalEditorLock.cancelCurrentEdit()&&e.execute()}}}},e.prototype.hookUndoShortcutKey=function(){var t=this;$(document).keydown(function(e){90===e.which&&(e.ctrlKey||e.metaKey)&&(e.shiftKey?t._undoRedoBuffer.redo():t._undoRedoBuffer.undo())})},e}();xe.decorators=[{type:f.Injectable}],xe.ctorParameters=function(){return[{type:Ee},{type:_e}]};var we=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.create=function(e,t){if(e&&t){this.extensionUtility.loadExtensionDynamically(I.checkboxSelector),this._extension||(this._extension=new Slick.CheckboxSelectColumn(t.checkboxSelector||{}));var i=this._extension.getColumnDefinition();return i.excludeFromExport=!0,i.excludeFromQuery=!0,i.excludeFromHeaderMenu=!0,e.unshift(i),this._extension}return null},e.prototype.register=function(e){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._extension),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(I.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.gridOptions.preselectedRows&&e&&this.sharedService.grid.getSelectionModel()&&setTimeout(function(){return t._extension.selectRows(t.sharedService.gridOptions.preselectedRows)},0),e):null},e}();we.decorators=[{type:f.Injectable}],we.ctorParameters=function(){return[{type:Ee},{type:_e}]};var Pe=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var i=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(I.columnPicker);var e=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),t=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),r=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker");return this.sharedService.gridOptions.columnPicker=this.sharedService.gridOptions.columnPicker||{},this.sharedService.gridOptions.columnPicker.columnTitle=this.sharedService.gridOptions.columnPicker.columnTitle||e,this.sharedService.gridOptions.columnPicker.forceFitTitle=this.sharedService.gridOptions.columnPicker.forceFitTitle||t,this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.sharedService.gridOptions.columnPicker.syncResizeTitle||r,this._extension=new Slick.Controls.ColumnPicker(this.sharedService.columnDefinitions,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.enableColumnPicker&&this._eventHandler.subscribe(this._extension.onColumnsChanged,function(e,t){i.sharedService.gridOptions.columnPicker&&"function"==typeof i.sharedService.gridOptions.columnPicker.onColumnsChanged&&i.sharedService.gridOptions.columnPicker.onColumnsChanged(e,t)}),this._extension}},e.prototype.translateColumnPicker=function(){this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions&&(this.sharedService.gridOptions.columnPicker&&(this.emptyColumnPickerTitles(),this.sharedService.gridOptions.columnPicker.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._extension.init&&this._extension.init(this.sharedService.grid))},e.prototype.emptyColumnPickerTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.columnPicker&&(this.sharedService.gridOptions.columnPicker.columnTitle="",this.sharedService.gridOptions.columnPicker.forceFitTitle="",this.sharedService.gridOptions.columnPicker.syncResizeTitle="")},e}();Pe.decorators=[{type:f.Injectable}],Pe.ctorParameters=function(){return[{type:Ee},{type:_e}]};var De=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.create=function(e){return this.extensionUtility.loadExtensionDynamically(I.draggableGrouping),!this._extension&&e&&(this._extension=new Slick.DraggableGrouping(e.draggableGrouping||{})),this._extension},e.prototype.register=function(){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.draggableGrouping&&(this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered&&this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered(this._extension),this._eventHandler.subscribe(this._extension.onGroupChanged,function(e,t){i.sharedService.gridOptions.draggableGrouping&&"function"==typeof i.sharedService.gridOptions.draggableGrouping.onGroupChanged&&i.sharedService.gridOptions.draggableGrouping.onGroupChanged(e,t)})),this._extension):null},e}();function Ie(e){return/(true|1)/i.test(e+"")}De.decorators=[{type:f.Injectable}],De.ctorParameters=function(){return[{type:Ee},{type:_e}]};var Ae=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return Ie(e.cellValue)===Ie(t)},ke=function(e,t,i){switch(e){case"<":case"LT":return t<i;case"<=":case"LE":return t<=i;case">":case"GT":return i<t;case">=":case"GE":return i<=t;case"!=":case"<>":case"NE":return t!==i;case"=":case"==":case"EQ":return t===i;case"IN":return!(!i||!i.includes)&&i.includes(t);case"NIN":case"NOT_IN":return!(!i||!i.includes)&&!i.includes(t);case"IN_CONTAINS":return!!(i&&Array.isArray(i)&&i.findIndex)&&-1<i.findIndex(function(e){return-1<t.indexOf(e)});case"NIN_CONTAINS":case"NOT_IN_CONTAINS":return!!(i&&Array.isArray(i)&&i.findIndex)&&!(-1<i.findIndex(function(e){return-1<t.indexOf(e)}))}return!0},Fe=o,Me=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"",i=Q(e.filterSearchType||A.dateIso);if(null===t||""===t||!Fe(e.cellValue,Fe.ISO_8601).isValid()||!Fe(t,i,!0).isValid())return!1;var r=Fe(e.cellValue),n=Fe(t);return ke(e.operator||"==",parseInt(r.format("X"),10),parseInt(n.format("X"),10))},Ne=o,$e=Q(A.dateIso),Ve=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Ne(e.cellValue,$e,!0).isValid()||!Ne(t,$e,!0).isValid())return!1;var i=Ne(e.cellValue,$e,!0),r=Ne(t,$e,!0);return ke(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Re=o,Ge=Q(A.dateUs),He=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Re(e.cellValue,Ge,!0).isValid()||!Re(t,Ge,!0).isValid())return!1;var i=Re(e.cellValue,Ge,!0),r=Re(t,Ge,!0);return ke(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Le=o,je=Q(A.dateUsShort),Be=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";if(null===t||""===t||!Le(e.cellValue,je,!0).isValid()||!Le(t,je,!0).isValid())return!1;var i=Le(e.cellValue,je,!0),r=Le(t,je,!0);return ke(e.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Ue=o,ze=function(e){var t=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"",i=Q(e.filterSearchType||e.fieldType);if(!Ue(e.cellValue,Ue.ISO_8601).isValid()||!Ue(t,i,!0).isValid())return!0;var r=Ue(e.cellValue,Ue.ISO_8601,!0),n=Ue(t,i,!0);return ke(e.operator||"==",parseInt(r.format("X"),10),parseInt(n.format("X"),10))},qe=function(e){var t=e.cellValue+"";return ke(e.operator||"IN",t,e.searchTerms||[])},We=function(e){var t=parseFloat(e.cellValue),i=Array.isArray(e.searchTerms)&&e.searchTerms[0]||0;return"string"==typeof i&&(i=parseFloat(i)),!(i||e.operator&&""!==e.operator)||ke(e.operator||"==",t,i)},Ye=function(e){e.cellValue=e.cellValue===undefined||null===e.cellValue?"":e.cellValue.toString();var t=e.cellValue.toLowerCase(),i=Array.isArray(e.searchTerms)&&e.searchTerms[0]||"";return"string"==typeof i&&(i=i.toLowerCase()),"*"===e.operator||e.operator===V.endsWith?t.endsWith(i):""===e.operator&&"*"===e.cellValueLastChar||e.operator===V.startsWith?t.startsWith(i):""===e.operator?t.includes(i):ke(e.operator||"==",t,i)},Xe=function(e){var t=e.operator&&e.operator.toUpperCase();if(e&&e.operator&&("IN"===t||"NIN"===t||"IN_CONTAINS"===t||"NIN_CONTAINS"===t))return qe(e);switch(e.fieldType){case A["boolean"]:return Ae(e);case A.date:return Me(e);case A.dateUtc:return ze(e);case A.dateIso:return Ve(e);case A.dateUs:case A.dateTimeUs:return He(e);case A.dateUsShort:case A.dateTimeUsShort:return Be(e);case A.number:return We(e);case A.string:default:return Ye(e)}},Qe={executeMappedCondition:Xe,booleanFilter:Ae,collectionSearchFilter:qe,dateFilter:Me,dateIsoFilter:Ve,dateUtcFilter:ze,dateUsFilter:He,dateUsShortFilter:Be,numberFilter:We,stringFilter:Ye,testFilter:ke};require("flatpickr");var Ke=function(){function e(e){this.translate=e,this._clearFilterTriggered=!1}return Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this._operator||V.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;if(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator||"",this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.keyup(function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.change(function(e){t.onTriggerEvent(e)})}},e.prototype.clear=function(){this.flatInstance&&this.$selectOperatorElm&&(this._clearFilterTriggered=!0,this.searchTerms=[],this.$selectOperatorElm.val(0),this.flatInstance.clear())},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup").remove()},e.prototype.setValues=function(e){e&&Array.isArray(e)&&this.flatInstance.setDate(e[0])},e.prototype.buildDatePickerInput=function(e){var r=this,t=K(this.columnDef.type||A.dateIso),i=K(this.columnDef.outputType||this.columnDef.type||A.dateUtc),n=this.translate.currentLang||"en";2<n.length&&(n=n.substring(0,2));var o={defaultDate:e||"",altInput:!0,altFormat:i,dateFormat:t,wrap:!0,closeOnSelect:!0,locale:"en"!==n?this.loadFlatpickrLocale(n):"en",onChange:function(e,t,i){r._currentValue=t,o.enableTime?r.onTriggerEvent(new CustomEvent("keyup")):r.onTriggerEvent(undefined)}};i&&("Z"===i||i.toLowerCase().includes("h"))&&(o.enableTime=!0);var s=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"",a=$('<div class="flatpickr"><input type="text" class="form-control" data-input placeholder="'+s+'"></div>');return this.flatInstance=a[0]&&"function"==typeof a[0].flatpickr?a[0].flatpickr(o):null,a},e.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},e.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=this.grid.getHeaderRowColumn(t);$(i).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=this.buildDatePickerInput(e);var r=$('<div class="form-group search-filter filter-'+t+'"></div>'),n=$('<div class="input-group flatpickr"></div>'),o=$('<div class="input-group-addon input-group-prepend operator"></div>');return o.append(this.$selectOperatorElm),n.append(o),n.append(this.$filterInputElm),r.append(n),r.attr("id","filter-"+t),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&(r.addClass("filled"),this._currentValue=e),r&&"function"==typeof r.appendTo&&r.appendTo(i),r},e.prototype.loadFlatpickrLocale=function(e){if(this.gridOptions&&this.gridOptions.params&&this.gridOptions.params.flapickrLocale)return this.gridOptions.params.flapickrLocale;if("en"===e)return"en";var t=require("flatpickr/dist/l10n/"+e+".js")["default"];return t&&t[e]?t[e]:"en"},e.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered}),this._clearFilterTriggered=!1;else{var t=this.$selectOperatorElm.find("option:selected").text();this._currentValue?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:t||""})}},e.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},e.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},e}(),Ze=function(){function e(e){this.translate=e,this._clearFilterTriggered=!1,this._inputType="text"}return Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this._operator||V.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator,this.searchTerms=e.searchTerms||[];var i=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(i),this.$filterInputElm.on("keyup input change",function(e){t.onTriggerEvent(e)}),this.$selectOperatorElm.on("change",function(e){t.onTriggerEvent(e)})},e.prototype.clear=function(){this.$filterElm&&this.$selectOperatorElm&&(this._clearFilterTriggered=!0,this.searchTerms=[],this.$selectOperatorElm.val(0),this.$filterInputElm.val(""),this.onTriggerEvent(null))},e.prototype.destroy=function(){this.$filterElm&&this.$selectOperatorElm&&(this.$filterElm.off("keyup input change").remove(),this.$selectOperatorElm.off("change"))},e.prototype.setValues=function(e){e&&Array.isArray(e)&&this.$filterElm.val(e[0])},e.prototype.buildInputHtmlString=function(){var e=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return'<input class="form-control" type="'+(this._inputType||"text")+'" placeholder="'+e+'" />'},e.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},e.prototype.getOptionValues=function(){var e=[];switch(this.columnDef.type&&this.columnDef.type?this.columnDef.type:A.string){case A.string:e=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:this.translate.instant("EQUALS")},{operator:"a*",description:this.translate.instant("STARTS_WITH")},{operator:"*z",description:this.translate.instant("ENDS_WITH")}];break;default:e=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]}return e},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=this.grid.getHeaderRowColumn(t);$(i).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildInputHtmlString());var r=$('<div class="form-group search-filter filter-'+t+'"></div>'),n=$('<div class="input-group"></div>'),o=$('<div class="input-group-addon input-group-prepend operator"></div>');return o.append(this.$selectOperatorElm),n.append(o),n.append(this.$filterInputElm),r.append(n),r.attr("id","filter-"+t),this.$filterInputElm.val(e),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&r.addClass("filled"),r&&"function"==typeof r.appendTo&&r.appendTo(i),r},e.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered}),this._clearFilterTriggered=!1;else{var t=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val();null!==i&&i!==undefined&&""!==i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:i?[i]:null,operator:t||""})}},e}(),Je=function(i){function e(e){var t=i.call(this,e)||this;return t.translate=e,t.inputType="number",t}return C(e,i),e}(Ze),et=function(i){function e(e){var t=i.call(this,e)||this;return t.translate=e,t.inputType="password",t}return C(e,i),e}(Ze),tt=function(){function e(){this._clearFilterTriggered=!1}return Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterParams",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterProperties",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this._operator||V.empty},set:function(e){this._operator=e},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;if(e){this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.operator=e.operator||"",this.searchTerms=e.searchTerms||[],this._elementRangeInputId="rangeInput_"+this.columnDef.field,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field;var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";this.$filterElm=this.createDomElement(t),this.$filterInputElm.change(function(e){i.onTriggerEvent(e)}),this.$selectOperatorElm.change(function(e){i.onTriggerEvent(e)}),this.filterParams.hideSliderNumber||this.$filterInputElm.on("input change",function(e){var t=e&&e.target&&e.target.value||"";t&&(document.getElementById(i._elementRangeOutputId).innerHTML=t)})}},e.prototype.clear=function(){if(this.$filterElm&&this.$selectOperatorElm){this._clearFilterTriggered=!0,this.searchTerms=[];var e=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0;this.$selectOperatorElm.val(0),this.$filterInputElm.val(e),this.filterParams.hideSliderNumber||this.$containerInputGroupElm.children("div.input-group-addon.input-group-append").children().last().html(e),this.onTriggerEvent(undefined)}},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},e.prototype.setValues=function(e){e&&Array.isArray(e)&&(this.$filterInputElm.val(e[0]),this.$containerInputGroupElm.children("div.input-group-addon.input-group-append").children().last().html(e[0]))},e.prototype.buildTemplateHtmlString=function(){var e=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,t=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,i=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:e,r=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;return'<input type="range" id="'+this._elementRangeInputId+'"\n              name="'+this._elementRangeInputId+'"\n              defaultValue="'+i+'" min="'+e+'" max="'+t+'" step="'+r+'"\n              class="form-control slider-filter-input range compound-slider" />'},e.prototype.buildTemplateSliderTextHtmlString=function(){var e=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:e;return'<div class="input-group-addon input-group-append slider-value"><span class="input-group-text" id="'+this._elementRangeOutputId+'">'+t+"</span></div>"},e.prototype.buildSelectOperatorHtmlString=function(){var e=this.getOptionValues(),t="";return e.forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},e.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id,i=e||"0",r=this.grid.getHeaderRowColumn(this.columnDef.id);$(r).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildTemplateHtmlString());var n=$('<div class="form-group search-filter filter-'+t+'"></div>');this.$containerInputGroupElm=$('<div class="input-group search-filter filter-'+t+'"></div>');var o=$('<span class="input-group-addon input-group-prepend operator"></span>');if(o.append(this.$selectOperatorElm),this.$containerInputGroupElm.append(o),this.$containerInputGroupElm.append(this.$filterInputElm),!this.filterParams.hideSliderNumber){var s=$(this.buildTemplateSliderTextHtmlString());s.children().html(i),this.$containerInputGroupElm.append(s)}return n.append(this.$containerInputGroupElm),n.attr("id","filter-"+t),this.$filterInputElm.val(i),this.$filterInputElm.data("columnId",t),this.operator&&this.$selectOperatorElm.val(this.operator),e&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e.prototype.onTriggerEvent=function(e){if(this._clearFilterTriggered)this.callback(e,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered}),this._clearFilterTriggered=!1;else{var t=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val();i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(e,{columnDef:this.columnDef,searchTerms:i?[i]:null,operator:t||""})}},e}(),it=function(){function e(){this._clearFilterTriggered=!1,this._inputType="text"}return Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,t),this.$filterElm.on("keyup input change",function(e){var t=e&&e.target&&e.target.value||"";i._clearFilterTriggered?(i.callback(e,{columnDef:i.columnDef,clearFilterTriggered:i._clearFilterTriggered}),i._clearFilterTriggered=!1,i.$filterElm.removeClass("filled")):(i.$filterElm.addClass("filled"),i.callback(e,{columnDef:i.columnDef,operator:i.operator,searchTerms:[t]}))})},e.prototype.clear=function(){this.$filterElm&&(this._clearFilterTriggered=!0,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("keyup"))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup input change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return'<input type="'+(this._inputType||"text")+'" class="form-control search-filter filter-'+e+'" placeholder="'+t+'">'},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e);return n.val(t),n.attr("id","filter-"+i),n.data("columnId",i),t&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),rt=function(t){function e(){var e=t.call(this)||this;return e.inputType="number",e}return C(e,t),e}(it),nt=function(t){function e(){var e=t.call(this)||this;return e.inputType="password",e}return C(e,t),e}(it),ot=u,st=function(){function e(e,t,i){void 0===i&&(i=!0);var r=this;this.translate=e,this.collectionService=t,this.isMultipleSelect=i,this.isFilled=!1;var n={autoAdjustDropHeight:!(this.enableTranslateLabel=!1),autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!(this.subscriptions=[]),maxHeight:275,single:!0,textTemplate:function(e){return r.columnDef&&r.columnDef.filter&&r.columnDef.filter.enableRenderHtml||!1?e.text():e.html()},onClose:function(){var e=r.$filterElm.multipleSelect("getSelects");Array.isArray(e)&&0<e.length?(r.isFilled=!0,r.$filterElm.addClass("filled").siblings("div .search-filter").addClass("filled")):(r.isFilled=!1,r.$filterElm.removeClass("filled").siblings("div .search-filter").removeClass("filled")),r.callback(undefined,{columnDef:r.columnDef,operator:r.operator,searchTerms:e})}};this.isMultipleSelect&&(n.single=!1,n.okButton=!0,n.addTitle=!0,n.countSelected=this.translate.instant("X_OF_Y_SELECTED"),n.allSelected=this.translate.instant("ALL_SELECTED"),n.selectAllText=this.translate.instant("SELECT_ALL"),n.selectAllDelimiter=["",""]),this.defaultOptions=n}return Object.defineProperty(e.prototype,"columnFilter",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator?this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator:this.isMultipleSelect?V["in"]:V.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e){if(this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");if(this.enableTranslateLabel=this.columnFilter.enableTranslateLabel,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this.translate||"function"!=typeof this.translate.instant))throw new Error("[select-editor] The ngx-translate TranslateService is required for the Select Filter to work correctly");var t=this.columnFilter.collection||[];this.renderDomElement(t);var i=this.columnFilter&&this.columnFilter.collectionAsync;i&&this.renderOptionsAsync(i)},e.prototype.clear=function(){this.$filterElm&&this.$filterElm.multipleSelect&&(this.$filterElm.multipleSelect("setSelects",[]),this.$filterElm.removeClass("filled"),this.searchTerms=[],this.callback(undefined,{columnDef:this.columnDef,clearFilterTriggered:!0}))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off().remove(),this.subscriptions=oe(this.subscriptions)},e.prototype.setValues=function(e){e&&(e=Array.isArray(e)?e:[e],this.$filterElm.multipleSelect("setSelects",e))},e.prototype.filterCollection=function(e){var t=e;if(this.columnDef&&this.columnFilter&&this.columnFilter.collectionFilterBy){var i=this.columnFilter.collectionFilterBy,r=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,i,r)}return t},e.prototype.sortCollection=function(e){var t=e;if(this.columnDef&&this.columnFilter&&this.columnFilter.collectionSortBy){var i=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(t,i,this.enableTranslateLabel)}return t},e.prototype.renderOptionsAsync=function(i){return _(this,void 0,void 0,function(){var t;return E(this,function(e){switch(e.label){case 0:return t=[],i?[4,z(i)]:[3,2];case 1:t=e.sent(),this.renderDomElementFromCollectionAsync(t),this.createCollectionAsyncSubject(),e.label=2;case 2:return[2]}})})},e.prototype.createCollectionAsyncSubject=function(){var t=this,e=new a.Subject;this.columnFilter.collectionAsync=e,this.subscriptions.push(e.subscribe(function(e){return t.renderDomElementFromCollectionAsync(e)}))},e.prototype.renderDomElementFromCollectionAsync=function(e){if(this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=Y(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Select Filter, the collection is not a valid array.');this.columnFilter.collection=e,this.renderDomElement(e)},e.prototype.renderDomElement=function(e){if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=Y(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Select Filter is not a valid array');this.collectionOptions&&this.collectionOptions.addBlankEntry&&e.unshift(this.createBlankEntry());var t=e;t=this.filterCollection(t),t=this.sortCollection(t);var i=this.buildTemplateHtmlString(t,this.searchTerms);this.createDomElement(i)},e.prototype.buildTemplateHtmlString=function(e,l){var u=this,c="",t=this.columnDef&&this.columnDef.id,d=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",h=this.columnFilter&&this.columnFilter.enableRenderHtml||!1,p=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return e.every(function(e){return"string"==typeof e})?e.forEach(function(t){var e=0<=l.findIndex(function(e){return e===t})?"selected":"";c+='<option value="'+t+'" label="'+t+'" '+e+">"+t+"</option>",e&&(u.isFilled=!0)}):e.forEach(function(t){if(!t||t[u.labelName]===undefined&&t.labelKey===undefined)throw new Error("[select-filter] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");var e=t.labelKey||t[u.labelName],i=0<=l.findIndex(function(e){return e===t[u.valueName]})?"selected":"",r=(t.labelKey||u.enableTranslateLabel)&&e?u.translate.instant(e||" "):e,n=t[u.labelPrefixName]||"",o=t[u.labelSuffixName]||"",s=t[u.optionLabel]||"";s=s.toString().replace(/\"/g,"'"),n=u.enableTranslateLabel&&n&&"string"==typeof n?u.translate.instant(n||" "):n,o=u.enableTranslateLabel&&o&&"string"==typeof o?u.translate.instant(o||" "):o,s=u.enableTranslateLabel&&s&&"string"==typeof s?u.translate.instant(s||" "):s;var a=[n,r,o].filter(function(e){return e}).join(d);h&&(a=j(ot.sanitize(a,p)));c+='<option value="'+t[u.valueName]+'" label="'+s+'" '+i+">"+a+"</option>",i&&(u.isFilled=!0)}),'<select class="ms-filter search-filter filter-'+t+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+c+"</select>"},e.prototype.createBlankEntry=function(){var e,t=((e={})[this.labelName]="",e[this.valueName]="",e);return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t},e.prototype.createDomElement=function(e){var t=this.columnDef&&this.columnDef.id;this.elementName="filter-"+t,this.defaultOptions.name=this.elementName;var i=this.grid.getHeaderRowColumn(t);if($(i).empty(),this.$filterElm=$(e),"function"!=typeof this.$filterElm.multipleSelect)throw new Error('multiple-select.js was not found, make sure to modify your "angular-cli.json" file and include "../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js" and it\'s css or SASS file');this.$filterElm.attr("id",this.elementName),this.$filterElm.data("columnId",t),this.isFilled&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(i);var r=Object.assign({},this.defaultOptions,this.columnFilter.filterOptions);this.filterElmOptions=Object.assign({},this.defaultOptions,r),this.$filterElm=this.$filterElm.multipleSelect(this.filterElmOptions)},e}(),at=function(r){function e(e,t){var i=r.call(this,e,t,!0)||this;return i.translate=e,i.collectionService=t,i}return C(e,r),e}(st),lt=function(){function e(e){this.translate=e,this._clearFilterTriggered=!1}return Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||V.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[];var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"";"boolean"!=typeof t&&"number"!=typeof t||(t=""+t);var r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,t),this.$filterElm.change(function(e){var t=e&&e.target&&e.target.value||"";i._clearFilterTriggered?(i.callback(e,{columnDef:i.columnDef,clearFilterTriggered:i._clearFilterTriggered}),i._clearFilterTriggered=!1,i.$filterElm.removeClass("filled")):(i.$filterElm.addClass("filled"),i.callback(e,{columnDef:i.columnDef,operator:i.operator,searchTerms:[t]}))})},e.prototype.clear=function(){this.$filterElm&&(this._clearFilterTriggered=!0,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("change"))},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var r=this;if(!this.columnDef||!this.columnDef.filter||!this.columnDef.filter.collection)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" for the Select Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.select, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");var e=this.columnDef&&this.columnDef.id,t=this.columnDef.filter.collection||[],n=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.label:"label",o=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.value:"value",s="";return t.every(function(e){return"string"==typeof e})?t.forEach(function(e){s+='<option value="'+e+'" label="'+e+'">'+e+"</option>"}):t.forEach(function(e){if(!e||e[n]===undefined&&e.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.select, collection: [ { value: '1', label: 'One' } ]')");var t=e.labelKey||e[n],i=(e.labelKey||r.columnDef.filter.enableTranslateLabel)&&r.translate&&"function"==typeof r.translate.instant?r.translate.instant(t||" "):t;s+='<option value="'+e[o]+'">'+i+"</option>"}),'<select class="form-control search-filter filter-'+e+'">'+s+"</select>"},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e),o=t||"";return n.val(o),n.attr("id","filter-"+i),n.data("columnId",i),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),ut=function(r){function e(e,t){var i=r.call(this,e,t,!1)||this;return i.translate=e,i.collectionService=t,i}return C(e,r),e}(st),ct=function(){function e(){this._clearFilterTriggered=!1}return Object.defineProperty(e.prototype,"filterParams",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterProperties",{get:function(){return this.columnDef&&this.columnDef.filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.operator||V.equal},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var i=this;if(!e)throw new Error('[Angular-SlickGrid] A filter must always have an "init()" with valid arguments.');this.grid=e.grid,this.callback=e.callback,this.columnDef=e.columnDef,this.searchTerms=e.searchTerms||[],this._elementRangeInputId="rangeInput_"+this.columnDef.field,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field;var t=Array.isArray(this.searchTerms)&&this.searchTerms[0]||"",r=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(r,t),this.$filterElm.change(function(e){var t=e&&e.target&&e.target.value||"";i._clearFilterTriggered?(i.callback(e,{columnDef:i.columnDef,clearFilterTriggered:i._clearFilterTriggered}),i._clearFilterTriggered=!1,i.$filterElm.removeClass("filled")):(i.$filterElm.addClass("filled"),i.callback(e,{columnDef:i.columnDef,operator:i.operator,searchTerms:[t]}))}),this.filterParams.hideSliderNumber||this.$filterElm.on("input change",function(e){var t=e&&e.target&&e.target.value||"";t&&(document.getElementById(i._elementRangeOutputId).innerHTML=t)})},e.prototype.clear=function(){if(this.$filterElm){this._clearFilterTriggered=!0,this.searchTerms=[];var e=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0;this.$filterElm.children("input").val(e),this.$filterElm.children("div.input-group-addon.input-group-append").children().html(e),this.$filterElm.trigger("change")}},e.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},e.prototype.setValues=function(e){e&&this.$filterElm.val(e)},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,i=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,r=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:t,n=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;return this.filterParams.hideSliderNumber?'\n      <div class="search-filter filter-'+e+'">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-filter-input range" />\n      </div>':'\n      <div class="input-group search-filter filter-'+e+'">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-filter-input range" />\n        <div class="input-group-addon input-group-append slider-value">\n          <span class="input-group-text" id="'+this._elementRangeOutputId+'">'+r+"</span>\n        </div>\n      </div>"},e.prototype.createDomElement=function(e,t){var i=this.columnDef&&this.columnDef.id,r=this.grid.getHeaderRowColumn(i);$(r).empty();var n=$(e),o=t||"0";return n.children("input").val(o),n.children("div.input-group-addon.input-group-append").children().html(o),n.attr("id","filter-"+i),n.data("columnId",i),t&&n.addClass("filled"),n&&"function"==typeof n.appendTo&&n.appendTo(r),n},e}(),dt={compoundDate:Ke,compoundInput:Ze,compoundInputNumber:Je,compoundInputPassword:et,compoundInputText:Ze,compoundSlider:tt,input:it,inputNumber:rt,inputPassword:nt,inputText:it,multipleSelect:at,select:lt,singleSelect:ut,slider:ct},ht={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{bottomPadding:20,minHeight:180,minWidth:300,sidePadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0},datasetIdPropertyName:"id",defaultFilterPlaceholder:"&#128269;",defaultFilter:dt.input,editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableExport:!0,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,exportOptions:{delimiter:D.comma,exportWithFormatter:!1,filename:"export",format:k.csv,groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},forceFitColumns:!1,gridMenu:{hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideExportCsvCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars",iconClearAllFiltersCommand:"fa fa-filter text-danger",iconClearAllSortingCommand:"fa fa-unsorted text-danger",iconExportCsvCommand:"fa fa-download",iconExportTextDelimitedCommand:"fa fa-download",iconRefreshDatasetCommand:"fa fa-refresh",iconToggleFilterCommand:"fa fa-random",iconTogglePreHeaderCommand:"fa fa-random",menuWidth:16,resizeOnShowHeaderRow:!0},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconSortAscCommand:"fa fa-sort-asc",iconSortDescCommand:"fa fa-sort-desc",iconColumnHideCommand:"fa fa-times",hideColumnHideCommand:!1,hideSortCommands:!1},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowHeight:35,topPanelHeight:35},pt=function vr(){this.options=ht},ft=function(){function e(e,t,i){this.config=e,this.translate=t,this.collectionService=i,this._options=this.config.options}return e.prototype.createFilter=function(e){var t;return e&&e.model&&(t="function"==typeof e.model?new e.model(this.translate,this.collectionService):e.model),!t&&this._options.defaultFilter&&(t=new this._options.defaultFilter(this.translate,this.collectionService)),t},e}();ft.decorators=[{type:f.Injectable}],ft.ctorParameters=function(){return[{type:pt},{type:s.TranslateService},{type:be}]};var mt=c,gt=function(){function e(e){this.filterFactory=e,this._eventHandler=new Slick.EventHandler,this._filters=[],this._columnFilters={},this.onFilterChanged=new a.Subject,this.onFilterCleared=new a.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this._grid=e},e.prototype.attachBackendOnFilter=function(e){var i=this;this._filters=[],this._slickSubscriber=new Slick.Event,this._slickSubscriber.subscribe(this.attachBackendOnFilterSubscribe.bind(this)),this._eventHandler.subscribe(e.onHeaderRowCellRendered,function(e,t){i.addFilterTemplateToHeaderRow(t)})},e.prototype.attachBackendOnFilterSubscribe=function(a,l){return _(this,void 0,void 0,function(){var t,i,r,n,o,s;return E(this,function(e){switch(e.label){case 0:if(!l||!l.grid)throw new Error('Something went wrong when trying to attach the "attachBackendOnFilterSubscribe(event, args)" function, it seems that "args" is not populated correctly');if(!(t=this._gridOptions.backendServiceApi)||!t.process||!t.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');e.label=1;case 1:return e.trys.push([1,4,,5]),i=new Date,t.preProcess&&t.preProcess(),[4,t.service.processOnFilterChanged(a,l)];case 2:return r=e.sent(),l&&!l.clearFilterTriggered&&this.emitFilterChanged("remote"),[4,z(t.process(r))];case 3:return n=e.sent(),o=new Date,n&&t.internalPostProcess&&t.internalPostProcess(n),t.postProcess!==undefined&&(n instanceof Object&&(n.statistics={startTime:i,endTime:o,executionTime:o.valueOf()-i.valueOf(),totalItemCount:this._gridOptions&&this._gridOptions.pagination&&this._gridOptions.pagination.totalItems}),t.postProcess(n)),[3,5];case 4:if(s=e.sent(),!t||!t.onError)throw s;return t.onError(s),[3,5];case 5:return[2]}})})},e.prototype.attachLocalOnFilter=function(e,i){var r=this;this._filters=[],this._dataView=i,this._slickSubscriber=new Slick.Event,i.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),i.setFilter(this.customLocalFilter.bind(this,i)),this._slickSubscriber.subscribe(function(e,t){null!=t.columnId&&i.refresh(),t&&!t.clearFilterTriggered&&r.emitFilterChanged("local")}),this._eventHandler.subscribe(e.onHeaderRowCellRendered,function(e,t){r.addFilterTemplateToHeaderRow(t)})},e.prototype.clearFilters=function(){for(var e in this._filters.forEach(function(e){e&&e.clear&&e.clear()}),this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e];this._dataView&&(this._dataView.refresh(),this._grid.invalidate(),this._grid.render()),this.onFilterCleared.next(!0)},e.prototype.customLocalFilter=function(e,t,i){try{for(var r=T(Object.keys(i.columnFilters)),n=r.next();!n.done;n=r.next()){var o=n.value,s=i.columnFilters[o],a=i.grid.getColumnIndex(o),l=i.grid.getColumns()[a];if(!l)return!1;var u=l.queryField||l.queryFieldFilter||l.field,c=l.type||A.string,d=l.filterSearchType?l.filterSearchType:null,h=t[u];0<=u.indexOf(".")&&(h=Y(t,u));var p=s&&s.searchTerms?w(s.searchTerms):null,f=Array.isArray(p)&&1===p.length?p[0]:"",m=(f=""+f).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),g=s.operator||(m?m[1]:""),v=m?m[2]:"",y=m?m[3]:"*z"===g?"*":"";if(p&&1<p.length?f=p.join(","):"string"==typeof f&&(f=f.replace("'","''"),"*"!==g&&"a*"!==g&&"*z"!==g&&"*"!==y||(g="*"===g||"*z"===g?V.endsWith:V.startsWith)),""===v&&(!p||Array.isArray(p)&&0===p.length))return!0;if(Array.isArray(m)&&1<=m.length&&Array.isArray(p)&&1===p.length&&(p[0]=v),p&&Array.isArray(p))for(var S=0,b=p.length;S<b;S++)p[S]=(p[S]===undefined||null===p[S]?"":p[S])+"";if(l&&l.params&&l.params.useFormatterOuputToFilter){var O=e&&"function"==typeof e.getIdxById?e.getIdxById(t.id):0;h=l.formatter(O,a,h,l,t,this._grid)}if("number"==typeof h&&(h=h.toString()),!Qe.executeMappedCondition({fieldType:c,searchTerms:p,cellValue:h,operator:g,cellValueLastChar:y,filterSearchType:d}))return!1}}catch(E){C={error:E}}finally{try{n&&!n.done&&(_=r["return"])&&_.call(r)}finally{if(C)throw C.error}}return!0;var C,_},e.prototype.dispose=function(){this.disposeColumnFilters(),this._eventHandler.unsubscribeAll(),this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe()},e.prototype.disposeColumnFilters=function(){for(var e in this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e];this._filters.forEach(function(e,t){e&&e.destroy&&e.destroy(!0)})},e.prototype.getColumnFilters=function(){return this._columnFilters},e.prototype.getCurrentLocalFilters=function(){var e,t,i=[];if(this._columnFilters)try{for(var r=T(Object.keys(this._columnFilters)),n=r.next();!n.done;n=r.next()){var o=n.value,s=this._columnFilters[o],a=(s.columnDef,{columnId:o||""});s&&s.searchTerms&&(a.searchTerms=s.searchTerms),s.operator&&(a.operator=s.operator),Array.isArray(a.searchTerms)&&0<a.searchTerms.length&&""!==a.searchTerms[0]&&i.push(a)}}catch(l){e={error:l}}finally{try{n&&!n.done&&(t=r["return"])&&t.call(r)}finally{if(e)throw e.error}}return i},e.prototype.callbackSearchEvent=function(e,t){if(t){var i=e&&e.target?e.target.value:undefined,r=t.searchTerms&&Array.isArray(t.searchTerms)?t.searchTerms:i?[i]:undefined,n=t.columnDef||null,o=n&&n.id||"",s=t.operator||undefined,a=r&&Array.isArray(r),l=a&&r.length,u=Object.assign({},this._columnFilters);if(!a||0===l||1===l&&""===r[0])delete this._columnFilters[o];else{var c=""+o,d={columnId:c,columnDef:n,searchTerms:r};s&&(d.operator=s),this._columnFilters[c]=d}mt(u,this._columnFilters)||this.triggerEvent(this._slickSubscriber,{clearFilterTriggered:t&&t.clearFilterTriggered,columnId:o,columnDef:t.columnDef||null,columnFilters:this._columnFilters,operator:s,searchTerms:r,serviceOptions:this._onFilterChangedOptions,grid:this._grid},e)}},e.prototype.addFilterTemplateToHeaderRow=function(e){var t=e.column,i=t.id||"";if(t&&"selector"!==i&&t.filterable){var r=void 0,n=void 0,o=this.filterFactory.createFilter(e.column.filter);n=t&&t.filter&&t.filter.operator||o&&o.operator||undefined,this._columnFilters[t.id]?(r=this._columnFilters[t.id].searchTerms||undefined,n=this._columnFilters[t.id].operator||undefined):t.filter&&(r=t.filter.searchTerms||undefined,this.updateColumnFilters(r,t,n));var s={grid:this._grid,operator:n,searchTerms:r,columnDef:t,callback:this.callbackSearchEvent.bind(this)};if(o){o.init(s);var a=this._filters.findIndex(function(e){return o.columnDef.name===e.columnDef.name});-1===a?this._filters.push(o):this._filters[a]=o,r&&o.setValues&&o.setValues(r)}}},e.prototype.emitFilterChanged=function(e){if("remote"===e&&this._gridOptions&&this._gridOptions.backendServiceApi){var t=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentFilters&&(t=i.getCurrentFilters()),this.onFilterChanged.next(t)}else"local"===e&&this.onFilterChanged.next(this.getCurrentLocalFilters())},e.prototype.populateColumnFilterSearchTerms=function(){if(this._gridOptions.presets&&Array.isArray(this._gridOptions.presets.filters)&&0<this._gridOptions.presets.filters.length){var i=this._gridOptions.presets.filters;this._columnDefinitions.forEach(function(t){t.filter&&t.filter.searchTerms&&delete t.filter.searchTerms;var e=i.find(function(e){return e.columnId===t.id});e&&e.searchTerms&&Array.isArray(e.searchTerms)&&(t.filter=t.filter||{},t.filter.operator=e.operator||t.filter.operator||"",t.filter.searchTerms=e.searchTerms)})}},e.prototype.updateColumnFilters=function(e,t,i){e&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:e,operator:i})},e.prototype.triggerEvent=function(e,t,i){e=e||new Slick.Event;var r=i;i&&"function"!=typeof i.isPropagationStopped&&(r=$.extend({},new Slick.EventData,i)),e.notify(t,r,t.grid)},e}();gt.decorators=[{type:f.Injectable}],gt.ctorParameters=function(){return[{type:ft}]};var vt=function(){function e(){this._currentLocalSorters=[],this._eventHandler=new Slick.EventHandler,this._isBackendGrid=!1,this.onSortChanged=new a.Subject,this.onSortCleared=new a.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.attachBackendOnSort=function(e,t){this._isBackendGrid=!0,this._grid=e,this._dataView=t,this._slickSubscriber=e.onSort,this._slickSubscriber.subscribe(this.onBackendSortChanged.bind(this))},e.prototype.onBackendSortChanged=function(l,u){return _(this,void 0,void 0,function(){var t,i,r,n,o,s,a;return E(this,function(e){switch(e.label){case 0:if(!u||!u.grid)throw new Error('Something went wrong when trying to attach the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');if(t=u.grid.getOptions()||{},!(i=t.backendServiceApi)||!i.process||!i.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');e.label=1;case 1:return e.trys.push([1,3,,4]),r=new Date,i.preProcess&&i.preProcess(),n=i.service.processOnSortChanged(l,u),this.emitSortChanged("remote"),[4,z(i.process(n))];case 2:return o=e.sent(),s=new Date,o&&i.internalPostProcess&&i.internalPostProcess(o),i.postProcess&&(o instanceof Object&&(o.statistics={startTime:r,endTime:s,executionTime:s.valueOf()-r.valueOf(),totalItemCount:this._gridOptions&&this._gridOptions.pagination&&this._gridOptions.pagination.totalItems}),i.postProcess(o)),[3,4];case 3:if(a=e.sent(),!i||!i.onError)throw a;return i.onError(a),[3,4];case 4:return[2]}})})},e.prototype.attachLocalOnSort=function(r,n){var o=this;this._isBackendGrid=!1,this._grid=r,this._dataView=n,this._slickSubscriber=r.onSort,this._slickSubscriber.subscribe(function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortAsc:t.sortAsc,sortCol:t.sortCol});o._currentLocalSorters=[],Array.isArray(i)&&i.forEach(function(e){e.sortCol&&o._currentLocalSorters.push({columnId:e.sortCol.id,direction:e.sortAsc?R.ASC:R.DESC})}),o.onLocalSortChanged(r,n,i),o.emitSortChanged("local")})},e.prototype.clearSorting=function(){this._grid&&this._gridOptions&&this._dataView&&(this._grid.setSortColumns([]),this._isBackendGrid?this.onBackendSortChanged(undefined,{grid:this._grid,sortCols:[]}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this.onLocalSortChanged(this._grid,this._dataView,new Array({sortAsc:!0,sortCol:this._columnDefinitions[0]}))),this._currentLocalSorters=[],this.onSortCleared.next(!0)},e.prototype.getCurrentLocalSorters=function(){return this._currentLocalSorters},e.prototype.getPreviousColumnSorts=function(i){var r=this,e=this._grid&&this._grid.getSortColumns();return Array.isArray(e)?e.reduce(function(e,t){return i&&t.columnId===i||e.push({sortCol:r._columnDefinitions[r._grid.getColumnIndex(t.columnId)],sortAsc:t.sortAsc}),e},[]):[]},e.prototype.loadLocalPresets=function(e,t){var i=this,r=[];(this._currentLocalSorters=[],this._gridOptions&&this._gridOptions.presets&&this._gridOptions.presets.sorters)&&(this._gridOptions.presets.sorters.forEach(function(t){var e=i._columnDefinitions.find(function(e){return e.id===t.columnId});e&&(r.push({columnId:e.id,sortAsc:t.direction.toUpperCase()===R.ASC,sortCol:e}),i._currentLocalSorters.push({columnId:e.id+"",direction:t.direction.toUpperCase()}))}),0<r.length&&(this.onLocalSortChanged(e,t,r),e.setSortColumns(r)))},e.prototype.onLocalSortChanged=function(e,t,d){e&&t&&(t.sort(function(e,t){for(var i=0,r=d.length;i<r;i++){var n=d[i];if(n&&n.sortCol){var o=n.sortAsc?G.asc:G.desc,s=n.sortCol.queryField||n.sortCol.queryFieldFilter||n.sortCol.field,a=n.sortCol.type||A.string,l=e[s],u=t[s];s&&0<=s.indexOf(".")&&(l=Y(e,s),u=Y(t,s));var c=Se(l,u,a,o);if(c!==G.neutral)return c}}return G.neutral}),e.invalidate(),e.render())},e.prototype.dispose=function(){this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe(),this._eventHandler.unsubscribeAll()},e.prototype.emitSortChanged=function(e){if("remote"===e&&this._gridOptions&&this._gridOptions.backendServiceApi){var t=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentSorters&&(t=i.getCurrentSorters()),this.onSortChanged.next(t)}else"local"===e&&this.onSortChanged.next(this.getCurrentLocalSorters())},e}(),yt=function(){function e(e,t,i,r,n,o){this.exportService=e,this.extensionUtility=t,this.filterService=i,this.sharedService=r,this.sortService=n,this.translate=o,this._areVisibleColumnDifferent=!1,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var r=this;return this._userOriginalGridMenu=Object.assign({},this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu?(this.extensionUtility.loadExtensionDynamically(I.gridMenu),this.sharedService.gridOptions.gridMenu=Object.assign({},this.getDefaultGridMenuOptions(),this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions.gridMenu.customItems=w(this._userOriginalGridMenu.customItems||[],this.addGridMenuCustomCommands()),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this._extension=new Slick.Controls.GridMenu(this.sharedService.columnDefinitions,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.gridMenu&&(this._eventHandler.subscribe(this._extension.onBeforeMenuShow,function(e,t){r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onBeforeMenuShow&&r.sharedService.gridOptions.gridMenu.onBeforeMenuShow(e,t)}),this._eventHandler.subscribe(this._extension.onColumnsChanged,function(e,t){r._areVisibleColumnDifferent=!0,r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onColumnsChanged&&r.sharedService.gridOptions.gridMenu.onColumnsChanged(e,t)}),this._eventHandler.subscribe(this._extension.onCommand,function(e,t){r.executeGridMenuInternalCustomCommands(e,t),r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onCommand&&r.sharedService.gridOptions.gridMenu.onCommand(e,t)}),this._eventHandler.subscribe(this._extension.onMenuClose,function(e,t){if(r.sharedService.gridOptions.gridMenu&&"function"==typeof r.sharedService.gridOptions.gridMenu.onMenuClose&&r.sharedService.gridOptions.gridMenu.onMenuClose(e,t),r.sharedService.grid&&"function"==typeof r.sharedService.grid.autosizeColumns){var i=r.sharedService.grid.getUID();r._areVisibleColumnDifferent&&i&&0<$("."+i).length&&(r.sharedService.gridOptions&&r.sharedService.gridOptions.enableAutoSizeColumns&&r.sharedService.grid.autosizeColumns(),r._areVisibleColumnDifferent=!1)}})),this._extension):null},e.prototype.executeGridMenuInternalCustomCommands=function(e,t){if(t&&t.command)switch(t.command){case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh();break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh();break;case"export-csv":this.exportService.exportToFile({delimiter:D.comma,filename:"export",format:k.csv,useUtf8WithBom:!0});break;case"export-text-delimited":this.exportService.exportToFile({delimiter:D.tab,filename:"export",format:k.txt,useUtf8WithBom:!0});break;case"toggle-filter":this.sharedService.grid.setHeaderRowVisibility(!this.sharedService.grid.getOptions().showHeaderRow);break;case"toggle-toppanel":this.sharedService.grid.setTopPanelVisibility(!this.sharedService.grid.getOptions().showTopPanel);break;case"toggle-preheader":this.sharedService.grid.setPreHeaderPanelVisibility(!this.sharedService.grid.getOptions().showPreHeaderPanel);break;case"refresh-dataset":this.refreshBackendDataset()}},e.prototype.refreshBackendDataset=function(e){var i=this,t="";e&&(this.sharedService.gridOptions=Object.assign({},this.sharedService.gridOptions,e));var r=this.sharedService.gridOptions.backendServiceApi;if(!r||!r.service||!r.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(r.service&&(t=r.service.buildQuery()),t&&""!==t){var n=new Date;r.preProcess&&r.preProcess(),z(r.process(t)).then(function(e){var t=new Date;e&&r&&r.internalPostProcess&&r.internalPostProcess(e),r&&r.postProcess&&(e instanceof Object&&(e.statistics={startTime:n,endTime:t,executionTime:t.valueOf()-n.valueOf(),totalItemCount:i.sharedService.gridOptions&&i.sharedService.gridOptions.pagination&&i.sharedService.gridOptions.pagination.totalItems}),r.postProcess(e))})}},e.prototype.addGridMenuCustomCommands=function(){var e=this.sharedService.gridOptions.backendServiceApi||null,t=[];return this.sharedService.gridOptions&&this.sharedService.gridOptions.enableFiltering&&(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllFiltersCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllFiltersCommand||"fa fa-filter text-danger",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("CLEAR_ALL_FILTERS"):Ce.TEXT_CLEAR_ALL_FILTERS,disabled:!1,command:"clear-filter",positionOrder:50}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideToggleFilterCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconToggleFilterCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("TOGGLE_FILTER_ROW"):Ce.TEXT_TOGGLE_FILTER_ROW,disabled:!1,command:"toggle-filter",positionOrder:52}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideRefreshDatasetCommand&&e&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconRefreshDatasetCommand||"fa fa-refresh",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("REFRESH_DATASET"):Ce.TEXT_REFRESH_DATASET,disabled:!1,command:"refresh-dataset",positionOrder:54})),this.sharedService.gridOptions.showPreHeaderPanel&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideTogglePreHeaderCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconTogglePreHeaderCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("TOGGLE_PRE_HEADER_ROW"):Ce.TEXT_TOGGLE_PRE_HEADER_ROW,disabled:!1,command:"toggle-preheader",positionOrder:52}),this.sharedService.gridOptions.enableSorting&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllSortingCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllSortingCommand||"fa fa-unsorted text-danger",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("CLEAR_ALL_SORTING"):Ce.TEXT_CLEAR_ALL_SORTING,disabled:!1,command:"clear-sorting",positionOrder:51}),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportCsvCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportCsvCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("EXPORT_TO_CSV"):Ce.TEXT_EXPORT_IN_CSV_FORMAT,disabled:!1,command:"export-csv",positionOrder:53}),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportTextDelimitedCommand&&t.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportTextDelimitedCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.translate.instant("EXPORT_TO_TAB_DELIMITED"):Ce.TEXT_EXPORT_IN_TEXT_FORMAT,disabled:!1,command:"export-text-delimited",positionOrder:54}),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(0<t.length||this.sharedService.gridOptions.gridMenu.customItems&&0<this.sharedService.gridOptions.gridMenu.customItems.length)&&(this.sharedService.gridOptions.gridMenu.customTitle=this.sharedService.gridOptions.gridMenu.customTitle||this.extensionUtility.getPickerTitleOutputString("customTitle","gridMenu")),t},e.prototype.executeHeaderMenuInternalCommands=function(e,t){if(t&&t.command)switch(t.command){case"hide":this.hideColumn(t.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"sort-asc":case"sort-desc":var i=this.sortService.getPreviousColumnSorts(t.column.id+"");i.push({sortCol:t.column,sortAsc:"sort-asc"===t.command}),this.sharedService.gridOptions.backendServiceApi?this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:i,grid:this.sharedService.grid}):this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,i);var r=i.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(r)}},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.extensionUtility.arrayRemoveItemByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.translateGridMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customItems=[],this.emptyGridMenuTitles(),this.sharedService.gridOptions.gridMenu.customItems=w(this._userOriginalGridMenu.customItems||[],this.addGridMenuCustomCommands()),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this.sharedService.gridOptions.gridMenu.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this._extension.init&&this._extension.init(this.sharedService.grid))},e.prototype.emptyGridMenuTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="")},e.prototype.getDefaultGridMenuOptions=function(){return{customTitle:undefined,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,customItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}},e}();yt.decorators=[{type:f.Injectable}],yt.ctorParameters=function(){return[{type:Oe},{type:Ee},{type:gt},{type:_e},{type:vt},{type:s.TranslateService}]};var St=function(){function e(e){this.sharedService=e}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid?(this._extension=this.sharedService.groupItemMetadataProvider||{},this.sharedService.grid.registerPlugin(this._extension),this._extension):null},e}();St.decorators=[{type:f.Injectable}],St.ctorParameters=function(){return[{type:_e}]};var bt=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(I.headerButton),this._extension=new Slick.Plugins.HeaderButtons(this.sharedService.gridOptions.headerButton||{}),this.sharedService.grid.registerPlugin(this._extension),this._eventHandler.subscribe(this._extension.onCommand,function(e,t){i.sharedService.gridOptions.headerButton&&"function"==typeof i.sharedService.gridOptions.headerButton.onCommand&&i.sharedService.gridOptions.headerButton.onCommand(e,t)}),this._extension):null},e}();bt.decorators=[{type:f.Injectable}],bt.ctorParameters=function(){return[{type:Ee},{type:_e}]};var Ot=function(){function e(e,t,i,r){this.extensionUtility=e,this.sharedService=t,this.sortService=i,this.translate=r,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(I.headerMenu),this.sharedService.gridOptions.headerMenu=Object.assign({},this.getDefaultHeaderMenuOptions(),this.sharedService.gridOptions.headerMenu),this.sharedService.gridOptions.enableHeaderMenu&&(this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.gridOptions,this.sharedService.columnDefinitions)),this._extension=new Slick.Plugins.HeaderMenu(this.sharedService.gridOptions.headerMenu),this.sharedService.grid.registerPlugin(this._extension),this._eventHandler.subscribe(this._extension.onCommand,function(e,t){i.executeHeaderMenuInternalCommands(e,t),i.sharedService.gridOptions.headerMenu&&"function"==typeof i.sharedService.gridOptions.headerMenu.onCommand&&i.sharedService.gridOptions.headerMenu.onCommand(e,t)}),this._eventHandler.subscribe(this._extension.onBeforeMenuShow,function(e,t){i.sharedService.gridOptions.headerMenu&&"function"==typeof i.sharedService.gridOptions.headerMenu.onBeforeMenuShow&&i.sharedService.gridOptions.headerMenu.onBeforeMenuShow(e,t)}),this._extension):null},e.prototype.addHeaderMenuCustomCommands=function(i,e){var r=this,n=i.headerMenu||{};return e&&Array.isArray(e)&&i.enableHeaderMenu&&e.forEach(function(e){if(e&&!e.excludeFromHeaderMenu){e.header&&e.header.menu||(e.header={menu:{items:[]}});var t=e&&e.header&&e.header.menu&&e.header.menu.items||[];i.enableSorting&&e.sortable&&n&&!n.hideSortCommands&&(0===t.filter(function(e){return"sort-asc"===e.command}).length&&t.push({iconCssClass:n.iconSortAscCommand||"fa fa-sort-asc",title:i.enableTranslate?r.translate.instant("SORT_ASCENDING"):Ce.TEXT_SORT_ASCENDING,command:"sort-asc",positionOrder:50}),0===t.filter(function(e){return"sort-desc"===e.command}).length&&t.push({iconCssClass:n.iconSortDescCommand||"fa fa-sort-desc",title:i.enableTranslate?r.translate.instant("SORT_DESCENDING"):Ce.TEXT_SORT_DESCENDING,command:"sort-desc",positionOrder:51})),n&&!n.hideColumnHideCommand&&0===t.filter(function(e){return"hide"===e.command}).length&&t.push({iconCssClass:n.iconColumnHideCommand||"fa fa-times",title:i.enableTranslate?r.translate.instant("HIDE_COLUMN"):Ce.TEXT_HIDE_COLUMN,command:"hide",positionOrder:52}),r.extensionUtility.translateItems(t,"titleKey","title"),t.sort(function(e,t){return e&&t&&e.hasOwnProperty("positionOrder")&&t.hasOwnProperty("positionOrder")?e.positionOrder-t.positionOrder:0})}}),n},e.prototype.executeHeaderMenuInternalCommands=function(e,t){if(t&&t.command)switch(t.command){case"hide":this.hideColumn(t.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"sort-asc":case"sort-desc":var i=this.sortService.getPreviousColumnSorts(t.column.id+"");if(i.push({sortCol:t.column,sortAsc:"sort-asc"===t.command}),this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:i,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,i);else{var r=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?i:i[0];t.grid.onSort.notify(r)}var n=i.map(function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc}});this.sharedService.grid.setSortColumns(n)}},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.extensionUtility.arrayRemoveItemByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.resetHeaderMenuTranslations=function(e){var i=this;e.forEach(function(e){if(e&&e.header&&e.header&&e.header.menu&&e.header.menu.items&&!e.excludeFromHeaderMenu){var t=e.header.menu.items||[];t.forEach(function(e){switch(e.command){case"sort-asc":e.title=i.translate.instant("SORT_ASCENDING")||Ce.TEXT_SORT_ASCENDING;break;case"sort-desc":e.title=i.translate.instant("SORT_DESCENDING")||Ce.TEXT_SORT_DESCENDING;break;case"hide":e.title=i.translate.instant("HIDE_COLUMN")||Ce.TEXT_HIDE_COLUMN}i.sharedService.gridOptions&&i.sharedService.gridOptions.enableTranslate&&i.extensionUtility.translateItems(t,"titleKey","title")})}})},e.prototype.translateHeaderMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)},e.prototype.getDefaultHeaderMenuOptions=function(){return{autoAlignOffset:12,minWidth:140,hideColumnHideCommand:!1,hideSortCommands:!1,title:""}},e}();Ot.decorators=[{type:f.Injectable}],Ot.ctorParameters=function(){return[{type:Ee},{type:_e},{type:vt},{type:s.TranslateService}]};var Ct=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(e){var i=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(I.rowMoveManager),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(I.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this._extension=new Slick.RowMoveManager(this.sharedService.gridOptions.rowMoveManager||{cancelEditOnDrag:!0}),this.sharedService.grid.registerPlugin(this._extension),this.sharedService.grid&&this.sharedService.gridOptions.rowMoveManager&&(this._eventHandler.subscribe(this._extension.onBeforeMoveRows,function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows&&i.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows(e,t)}),this._eventHandler.subscribe(this._extension.onMoveRows,function(e,t){i.sharedService.gridOptions.rowMoveManager&&"function"==typeof i.sharedService.gridOptions.rowMoveManager.onMoveRows&&i.sharedService.gridOptions.rowMoveManager.onMoveRows(e,t)})),this._extension):null},e}();Ct.decorators=[{type:f.Injectable}],Ct.ctorParameters=function(){return[{type:Ee},{type:_e}]};var _t=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._extension&&this._extension.destroy&&this._extension.destroy()},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(I.rowSelection),this._extension=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(this._extension),this._extension):null},e}();_t.decorators=[{type:f.Injectable}],_t.ctorParameters=function(){return[{type:Ee},{type:_e}]};var Et=function(){function e(e,t,i,r,n,o,s,a,l,u,c,d,h){this.autoTooltipExtension=e,this.cellExternalCopyExtension=t,this.checkboxSelectorExtension=i,this.columnPickerExtension=r,this.draggableGroupingExtension=n,this.gridMenuExtension=o,this.groupItemMetaExtension=s,this.headerButtonExtension=a,this.headerMenuExtension=l,this.rowMoveManagerExtension=u,this.rowSelectionExtension=c,this.sharedService=d,this.translate=h,this.extensionList=[]}return e.prototype.dispose=function(){this.sharedService.grid=null,this.sharedService.visibleColumns=[],this.extensionList.forEach(function(e){e&&e["class"]&&e["class"].dispose&&e["class"].dispose()}),this.extensionList=[]},e.prototype.getAllColumns=function(){return this.sharedService.allColumns||[]},e.prototype.getVisibleColumns=function(){return this.sharedService.visibleColumns||[]},e.prototype.getAllExtensions=function(){return this.extensionList},e.prototype.getExtensionByName=function(t){return this.extensionList.find(function(e){return e.name===t})},e.prototype.autoResizeColumns=function(){this.sharedService.grid.autosizeColumns()},e.prototype.attachDifferentExtensions=function(){var t=this;if(this.sharedService.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.sharedService.gridOptions.enableAutoTooltip&&this.autoTooltipExtension&&this.autoTooltipExtension.register&&this.extensionList.push({name:I.autoTooltip,"class":this.autoTooltipExtension,extension:this.autoTooltipExtension.register()}),this.sharedService.gridOptions.enableColumnPicker&&this.columnPickerExtension&&this.columnPickerExtension.register&&this.extensionList.push({name:I.columnPicker,"class":this.columnPickerExtension,extension:this.columnPickerExtension.register()}),this.sharedService.gridOptions.enableDraggableGrouping&&this.draggableGroupingExtension&&this.draggableGroupingExtension.register&&this.extensionList.push({name:I.draggableGrouping,"class":this.draggableGroupingExtension,extension:this.draggableGroupingExtension.register()}),this.sharedService.gridOptions.enableGridMenu&&this.gridMenuExtension&&this.gridMenuExtension.register&&this.extensionList.push({name:I.gridMenu,"class":this.gridMenuExtension,extension:this.gridMenuExtension.register()}),this.sharedService.gridOptions.enableGrouping&&this.groupItemMetaExtension&&this.groupItemMetaExtension.register&&this.extensionList.push({name:I.groupItemMetaProvider,"class":this.groupItemMetaExtension,extension:this.groupItemMetaExtension.register()}),this.sharedService.gridOptions.enableCheckboxSelector&&this.checkboxSelectorExtension&&this.checkboxSelectorExtension.register){var e=this.getExtensionByName(I.rowSelection);this.extensionList.push({name:I.checkboxSelector,"class":this.checkboxSelectorExtension,extension:this.checkboxSelectorExtension.register(e)})}this.sharedService.gridOptions.enableRowMoveManager&&this.rowMoveManagerExtension&&this.rowMoveManagerExtension.register&&this.extensionList.push({name:I.rowMoveManager,"class":this.rowMoveManagerExtension,extension:this.rowMoveManagerExtension.register()}),!this.sharedService.gridOptions.enableCheckboxSelector&&this.sharedService.gridOptions.enableRowSelection&&this.rowSelectionExtension&&this.rowSelectionExtension.register&&this.extensionList.push({name:I.rowSelection,"class":this.rowSelectionExtension,extension:this.rowSelectionExtension.register()}),this.sharedService.gridOptions.enableHeaderButton&&this.headerButtonExtension&&this.headerButtonExtension.register&&this.extensionList.push({name:I.headerButton,"class":this.headerButtonExtension,extension:this.headerButtonExtension.register()}),this.sharedService.gridOptions.enableHeaderMenu&&this.headerMenuExtension&&this.headerMenuExtension.register&&this.extensionList.push({name:I.headerMenu,"class":this.headerMenuExtension,extension:this.headerMenuExtension.register()}),this.sharedService.gridOptions.enableExcelCopyBuffer&&this.cellExternalCopyExtension&&this.cellExternalCopyExtension.register&&this.extensionList.push({name:I.cellExternalCopyManager,"class":this.cellExternalCopyExtension,extension:this.cellExternalCopyExtension.register()}),this.sharedService.gridOptions.registerPlugins!==undefined&&(Array.isArray(this.sharedService.gridOptions.registerPlugins)?this.sharedService.gridOptions.registerPlugins.forEach(function(e){t.sharedService.grid.registerPlugin(e),t.extensionList.push({name:I.noname,"class":null,extension:e})}):(this.sharedService.grid.registerPlugin(this.sharedService.gridOptions.registerPlugins),this.extensionList.push({name:I.noname,"class":null,extension:this.sharedService.gridOptions.registerPlugins})))},e.prototype.createExtensionsBeforeGridCreation=function(e,t){if(t.enableCheckboxSelector&&this.checkboxSelectorExtension.create(e,t),t.enableDraggableGrouping){var i=this.draggableGroupingExtension.create(t);t.enableColumnReorder=i.getSetupColumnReorder}},e.prototype.hideColumn=function(e){if(this.sharedService&&this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.refreshBackendDataset=function(e){this.gridMenuExtension.refreshBackendDataset(e)},e.prototype.removeColumnByIndex=function(e,i){return e.filter(function(e,t){return i!==t})},e.prototype.translateColumnPicker=function(){this.columnPickerExtension&&this.columnPickerExtension.translateColumnPicker&&this.columnPickerExtension.translateColumnPicker()},e.prototype.translateGridMenu=function(){this.gridMenuExtension&&this.gridMenuExtension.translateGridMenu&&this.gridMenuExtension.translateGridMenu()},e.prototype.translateHeaderMenu=function(){this.headerMenuExtension&&this.headerMenuExtension.translateHeaderMenu&&this.headerMenuExtension.translateHeaderMenu()},e.prototype.translateColumnHeaders=function(e,t){e&&this.translate.use(e);var i=t||this.sharedService.columnDefinitions;this.translateItems(i,"headerKey","name"),this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.renderColumnHeaders(i)},e.prototype.renderColumnHeaders=function(e){var t=e||this.sharedService.columnDefinitions;Array.isArray(t)&&this.sharedService.grid&&this.sharedService.grid.setColumns&&this.sharedService.grid.setColumns(t)},e.prototype.translateItems=function(e,t,i){try{for(var r=T(e),n=r.next();!n.done;n=r.next()){var o=n.value;o[t]&&(o[i]=this.translate.instant(o[t]))}}catch(l){s={error:l}}finally{try{n&&!n.done&&(a=r["return"])&&a.call(r)}finally{if(s)throw s.error}}var s,a},e}();Et.decorators=[{type:f.Injectable}],Et.ctorParameters=function(){return[{type:Te},{type:xe},{type:we},{type:Pe},{type:De},{type:yt},{type:St},{type:bt},{type:Ot},{type:Ct},{type:_t},{type:_e},{type:s.TranslateService}]};var Tt,xt=function(){function a(e,t){if(this.queryFnName=e,this.head=[],"function"==typeof t)this.alias=t;else if("object"==typeof t)this.filter(t);else{if(undefined===t&&2===arguments.length)throw new TypeError('You have passed undefined as Second argument to "Query"');if(undefined!==t)throw new TypeError('Second argument to "Query" should be an alias name(String) or filter arguments(Object). was passed '+t)}}return a.prototype.filter=function(e){try{for(var t=T(Object.keys(e)),i=t.next();!i.done;i=t.next()){var r=i.value;if("function"!=typeof e[r]){var n=this.getGraphQLValue(e[r]);"{}"!==n&&this.head.push(r+":"+n)}}}catch(a){o={error:a}}finally{try{i&&!i.done&&(s=t["return"])&&s.call(t)}finally{if(o)throw o.error}}return this;var o,s},a.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!e)throw new TypeError("find value can not be >>falsy<<");var i=1===e.length&&Array.isArray(e[0])?e[0]:e;return this.body=this.parceFind(i),this},a.prototype.setAlias=function(e){this.alias=e},a.prototype.toString=function(){if(this.body===undefined)throw new ReferenceError("return properties are not defined. use the 'find' function to defined them");return(this.alias?this.alias+":":"")+" "+this.queryFnName+" "+(0<this.head.length?"("+this.head.join(",")+")":"")+"  { "+this.body+" }"},a.prototype.parceFind=function(s){return s.map(function(e,t){var i=s[t];if(i instanceof a)return i.toString();if(Array.isArray(i)||"object"!=typeof i){if("string"==typeof i)return i;throw new RangeError("cannot handle Find value of "+i)}var r=Object.keys(i);if(1!==r.length)throw new RangeError("Alias objects should only have one value. was passed: "+JSON.stringify(i));var n=r[0],o=i[n];return Array.isArray(o)?new a(n).find(o):n+" : "+o+" "}).join(",")},a.prototype.getGraphQLValue=function(e){var t=this;return"string"==typeof e?e=JSON.stringify(e):Array.isArray(e)?e="["+(e=e.map(function(e){return t.getGraphQLValue(e)}).join())+"]":e instanceof Date?e=JSON.stringify(e):null!==e&&"object"==typeof e&&(e=this.objectToString(e)),e},a.prototype.objectToString=function(e){var t,i,r=[];try{for(var n=T(Object.keys(e)),o=n.next();!o.done;o=n.next()){var s=o.value;"function"!=typeof e[s]&&r.push(s+":"+this.getGraphQLValue(e[s]))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}return"{"+r.join()+"}"},a}(),wt=function(){function e(){this.defaultOrderBy={field:"id",direction:R.ASC},this.defaultPaginationOptions={first:25,offset:0}}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.buildQuery=function(){if(!this.options||!this.options.datasetName||!this._columnDefinitions&&!this.options.columnDefinitions)throw new Error('GraphQL Service requires "datasetName" & "columnDefinitions" properties for it to work');var e=this._columnDefinitions||this.options.columnDefinitions;e=e.filter(function(e){return!e.excludeFromQuery});var t=new xt("query"),i=new xt(this.options.datasetName),r=this.options.isWithCursor?new xt("edges"):new xt("nodes"),n=[];if(e&&Array.isArray(e))try{for(var o=T(e),s=o.next();!s.done;s=o.next()){var a=s.value;n.push(a.field),a.fields&&n.push.apply(n,w(a.fields))}}catch(y){f={error:y}}finally{try{s&&!s.done&&(m=o["return"])&&m.call(o)}finally{if(f)throw f.error}}else n=this.options.columnIds||[];-1===n.indexOf("id")&&n.unshift("id");var l=this.buildFilterQuery(n);if(this.options.isWithCursor){var u=new xt("pageInfo");u.find("hasNextPage","endCursor"),r.find(["cursor",{node:l}]),i.find(["totalCount",u,r])}else r.find(l),i.find(["totalCount",r]);var c={};if(!1!==this._gridOptions.enablePagination&&(c=Object.assign({},this.options.paginationOptions,{first:(this.options.paginationOptions&&this.options.paginationOptions.first?this.options.paginationOptions.first:this.pagination&&this.pagination.pageSize?this.pagination.pageSize:null)||this.defaultPaginationOptions.first}),this.options.isWithCursor||(c.offset=this.options.paginationOptions&&this.options.paginationOptions.hasOwnProperty("offset")?+this.options.paginationOptions.offset:0)),this.options.sortingOptions&&Array.isArray(this.options.sortingOptions)&&0<this.options.sortingOptions.length&&(c.orderBy=this.options.sortingOptions),this.options.filteringOptions&&Array.isArray(this.options.filteringOptions)&&0<this.options.filteringOptions.length&&(c.filterBy=this.options.filteringOptions),this.options.addLocaleIntoQuery&&(c.locale=this._gridOptions&&this._gridOptions.i18n&&this._gridOptions.i18n.currentLang||"en"),this.options.extraQueryArguments)try{for(var d=T(this.options.extraQueryArguments),h=d.next();!h.done;h=d.next()){var p=h.value;c[p.field]=p.value}}catch(S){g={error:S}}finally{try{h&&!h.done&&(v=d["return"])&&v.call(d)}finally{if(g)throw g.error}}i.filter(c),t.find(i);var f,m,g,v;return this.trimDoubleQuotesOnEnumField(t.toString(),["direction:","field:","operator:"],this.options.keepArgumentFieldDoubleQuotes||!1)},e.prototype.buildFilterQuery=function(e){var r=function(e,t){void 0===e&&(e={});var i=t.shift();return e[i]=t.length?r(e[i],t):null,e},t=e.reduce(function(e,t){return r(e,t.split("."))},{});return JSON.stringify(t).replace(/\"|\:|null/g,"").replace(/^\{/,"").replace(/\}$/,"")},e.prototype.init=function(e,t,i){this._grid=i,this.options=e||{},this.pagination=t,i&&i.getColumns&&(this._columnDefinitions=e.columnDefinitions||i.getColumns())},e.prototype.getInitPaginationOptions=function(){return this.options.isWithCursor?{first:this.pagination?this.pagination.pageSize:25}:{first:this.pagination?this.pagination.pageSize:25,offset:0}},e.prototype.getDatasetName=function(){return this.options.datasetName||""},e.prototype.getCurrentFilters=function(){return this._currentFilters},e.prototype.getCurrentPagination=function(){return this._currentPagination},e.prototype.getCurrentSorters=function(){return this._currentSorters},e.prototype.resetPaginationOptions=function(){var e;this.options.isWithCursor?e={after:"",before:undefined,last:undefined}:(e=this.options.paginationOptions||this.getInitPaginationOptions()).offset=0,this._currentPagination={pageNumber:1,pageSize:e.first},this.updateOptions({paginationOptions:e})},e.prototype.updateOptions=function(e){this.options=Object.assign({},this.options,e)},e.prototype.processOnFilterChanged=function(e,i){var r=this,t=(this._gridOptions||i.grid.getOptions()).backendServiceApi;if(t===undefined)throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');var n=0;return!e||"keyup"!==e.type&&"keydown"!==e.type||(n=t.filterTypingDebounce||750),this._currentFilters=this.castFilterToColumnFilter(i.columnFilters),new Promise(function(e,t){if(!i||!i.grid)throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');clearTimeout(Tt),Tt=setTimeout(function(){r.updateFilters(i.columnFilters,!1),r.resetPaginationOptions(),e(r.buildQuery())},n)})},e.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(t.newPage,i),this.buildQuery()},e.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.buildQuery()},e.prototype.updateFilters=function(u,c){var d,h=[],e=function(e){if(u.hasOwnProperty(e)){var t=u[e],i=void 0;if(!(i=c&&Array.isArray(p._columnDefinitions)?p._columnDefinitions.find(function(e){return e.id===t.columnId}):t.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var r=i.queryField||i.queryFieldFilter||i.field||i.name||"",n=(t?t.searchTerms:null)||[],o=Array.isArray(n)&&1===n.length?n[0]:"";if(void 0===o&&(o=""),"string"!=typeof o&&!n)throw new Error('GraphQL filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {model: Filters.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var s=(o=""+o).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),a=t.operator||(s?s[1]:"");d=s?s[2]:"";var l=s?s[3]:"*z"===a?"*":"";if(r&&""===d&&0===n.length)return"continue";n&&1<n.length?d=n.join(","):"string"==typeof d&&(d=d.replace("'","''"),"*"!==a&&"a*"!==a&&"*z"!==a&&"*"!==l||(a="*"===a||"*z"===a?"endsWith":"startsWith")),!a&&i.filter&&(a=i.filter.operator),a||(a=J(i.type||A.string)),h.push({field:r,operator:Z(a),value:d})}},p=this;for(var t in u)e(t);this.updateOptions({filteringOptions:h})},e.prototype.updatePagination=function(e,t){var i;this._currentPagination={pageNumber:e,pageSize:t},i=this.options.isWithCursor?{first:t}:{first:t,offset:(e-1)*t},this.updateOptions({paginationOptions:i})},e.prototype.updateSorters=function(e,t){var i,r,n=this,o=[],s=[];if(!e&&t){(o=t).forEach(function(e){return e.direction=e.direction.toUpperCase()});var a=o.map(function(t){var e=n._columnDefinitions.find(function(e){return e.id===t.columnId});return s.push({field:e?(e.queryField||e.queryFieldSorter||e.field||e.id)+"":t.columnId+"",direction:t.direction}),e?{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===R.ASC}:null});Array.isArray(a)&&this._grid.setSortColumns(a.filter(function(e){return e}))}else if(e&&!t)if(e&&0===e.length)s=new Array(this.defaultOrderBy),o=new Array({columnId:this.defaultOrderBy.field,direction:this.defaultOrderBy.direction});else if(e)try{for(var l=T(e),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.sortCol&&(o.push({columnId:c.sortCol.id+"",direction:c.sortAsc?R.ASC:R.DESC}),s.push({field:(c.sortCol.queryField||c.sortCol.queryFieldSorter||c.sortCol.field||c.sortCol.id)+"",direction:c.sortAsc?R.ASC:R.DESC}))}}catch(d){i={error:d}}finally{try{u&&!u.done&&(r=l["return"])&&r.call(l)}finally{if(i)throw i.error}}this._currentSorters=o,this.updateOptions({sortingOptions:s})},e.prototype.trimDoubleQuotesOnEnumField=function(e,t,n){var i='s?((field:s*)?".*?")',r=t.join(i+"|"),o=new RegExp(r+=i,"g");return e.replace(o,function(e,t,i){var r=!0;return e.startsWith("field:")&&n&&(r=!1),r?e.replace(/"/g,""):e})},e.prototype.castFilterToColumnFilter=function(t){return("object"==typeof t?Object.keys(t).map(function(e){return t[e]}):t).map(function(e){var t=e.columnDef,i=(t&&(t.headerKey||t.name),{columnId:e.columnId||""});return e.operator&&(i.operator=e.operator),Array.isArray(e.searchTerms)&&(i.searchTerms=e.searchTerms),i})},e}();String.format=function(e,i){return e.replace(/{(\d+)}/g,function(e,t){return"undefined"!=typeof i[t]?i[t]:e})},String.padZero=function(e){for(var t=this;t.length<e;)t="0"+t;return t},String.trim=function(e){return e?e.replace(/\s+/g," "):e},String.allTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.titleCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var Pt,Dt=function(){function e(){this._odataOptions={filterQueue:[],orderBy:""},this._defaultSortBy="",this._columnFilters={}}return e.prototype.buildQuery=function(){this._odataOptions.filterQueue=[];var e=[];if(this._odataOptions.top&&e.push("$top="+this._odataOptions.top),this._odataOptions.skip&&e.push("$skip="+this._odataOptions.skip),this._odataOptions.orderBy){var t="";t=Array.isArray(this._odataOptions.orderBy)?this._odataOptions.orderBy.join(","):this._odataOptions.orderBy,e.push("$orderby="+t)}if(this._odataOptions.filterBy||this._odataOptions.filter){if(this._odataOptions.filter){this._odataOptions.filterQueue=[];var i=this._odataOptions.filter;Array.isArray(this._odataOptions.filter)&&(i=this._odataOptions.filter.join(" "+(this._odataOptions.filterBySeparator||"and")+" ")),this._odataOptions.filterQueue.push("("+i+")")}this._odataOptions.filterBy&&this._odataOptions.filterBy.fieldName&&!this._columnFilters[this._odataOptions.filterBy.fieldName.toLowerCase()]&&""!==this._odataOptions.filterBy.searchTerm&&(this.saveColumnFilter(this._odataOptions.filterBy.fieldName.toLowerCase(),this._odataOptions.filterBy.searchTerm,this._odataOptions.filterBy.searchTerms),this.updateFilterFromListTerms(this._odataOptions.filterBy))}if(0<this._odataOptions.filterQueue.length){var r=this._odataOptions.filterQueue.join(" "+(this._odataOptions.filterBySeparator||"and")+" ");this._odataOptions.filter=r,e.push("$filter="+r)}return e.join("&")},e.prototype.getFilterByColumn=function(e){return this._columnFilters[e]?this._columnFilters[e]:null},e.prototype.getFilterCount=function(){return this._odataOptions.filterQueue?this._odataOptions.filterQueue.length:0},Object.defineProperty(e.prototype,"columnFilters",{get:function(){return this._columnFilters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._odataOptions},set:function(e){this._odataOptions=e},enumerable:!0,configurable:!0}),e.prototype.removeColumnFilter=function(e){delete this._columnFilters[e]},e.prototype.saveColumnFilter=function(e,t,i){this._columnFilters[e]={search:i,value:t}},e.prototype.updateFilterFromListTerms=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){t.updateFilterFromTerm(e)}):this.updateFilterFromTerm(e)},e.prototype.updateFilterFromTerm=function(e){var t="",i=[],r=e.fieldName,n=e.searchTerms,o=e.operator;if(n&&0<n.length){var s=[];if("IN"===o){for(var a=0,l=n.length;a<l;a++)s.push(r+" eq '"+n[a]+"'");t="$("+(t=s.join(" or "))+")"}else if("NIN"===o||"NOTIN"===o||"NOT IN"===o){for(var u=0,c=n.length;u<c;u++)s.push(r+" ne '"+n[u]+"'");t="$("+(t=s.join(" and "))+")"}}i.push(String.trim(t));var d=0<i.length?i.join(" and "):"";this._odataOptions.filterQueue&&-1===this._odataOptions.filterQueue.indexOf(d)&&this._odataOptions.filterQueue.push(d)},e.prototype.updateOptions=function(e){try{for(var t=T(Object.keys(e)),i=t.next();!i.done;i=t.next()){var r=i.value;if(e.hasOwnProperty(r)&&(this._odataOptions[r]=e[r]),"orderBy"===r||"sortBy"===r){var n=e[r];this._odataOptions.caseType===P.pascalCase&&(Array.isArray(n)?n.forEach(function(e,t,i){i[t]=String.titleCase(e)}):n=String.titleCase(e[r])),this._odataOptions.orderBy=n,this._defaultSortBy=n}}}catch(a){o={error:a}}finally{try{i&&!i.done&&(s=t["return"])&&s.call(t)}finally{if(o)throw o.error}}var o,s},e}(),It=function(){function e(){this.defaultOptions={top:25,orderBy:"",caseType:P.pascalCase},this.odataService=new Dt}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.buildQuery=function(){return this.odataService.buildQuery()},e.prototype.init=function(e,t,i){this._grid=i;var r=Object.assign({},this.defaultOptions,e);t&&t.pageSize&&(r.top=t.pageSize),this.odataService.options=Object.assign({},r,{top:r.top||this.defaultOptions.top}),this.options=this.odataService.options,this.pagination=t,this._currentPagination={pageNumber:1,pageSize:this.odataService.options.top||this.defaultOptions.top},i&&i.getColumns&&(this._columnDefinitions=e&&e.columnDefinitions||i.getColumns(),this._columnDefinitions=this._columnDefinitions.filter(function(e){return!e.excludeFromQuery}))},e.prototype.updateOptions=function(e){this.options=Object.assign({},this.options,e)},e.prototype.removeColumnFilter=function(e){this.odataService.removeColumnFilter(e)},e.prototype.getCurrentFilters=function(){return this._currentFilters},e.prototype.getCurrentPagination=function(){return this._currentPagination},e.prototype.getCurrentSorters=function(){return this._currentSorters},e.prototype.resetPaginationOptions=function(){this.odataService.updateOptions({skip:0})},e.prototype.saveColumnFilter=function(e,t,i){this.odataService.saveColumnFilter(e,t,i)},e.prototype.processOnFilterChanged=function(e,i){var r=this,t=i.grid.getOptions().backendServiceApi;if(t===undefined)throw new Error('Something went wrong in the GridOdataService, "backendServiceApi" is not initialized');var n=0;return!e||"keyup"!==e.type&&"keydown"!==e.type||(n=t.filterTypingDebounce||750),this._currentFilters=this.castFilterToColumnFilter(i.columnFilters),new Promise(function(e,t){clearTimeout(Pt),Pt=setTimeout(function(){r.updateFilters(i.columnFilters),r.resetPaginationOptions(),e(r.odataService.buildQuery())},n)})},e.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||20);return this.updatePagination(t.newPage,i),this.odataService.buildQuery()},e.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.odataService.buildQuery()},e.prototype.updateFilters=function(y,S){var b="",O=[],e=function(e){if(y.hasOwnProperty(e)){var t=y[e],i=void 0;if(!(i=S&&Array.isArray(C._columnDefinitions)?C._columnDefinitions.find(function(e){return e.id===t.columnId}):t.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var r=i.queryField||i.queryFieldFilter||i.field||i.name||"",n=i.type||"string",o=(t?t.searchTerms:null)||[],s=Array.isArray(o)&&1===o.length?o[0]:"";if(void 0===s&&(s=""),"string"!=typeof s&&!o)throw new Error('ODdata filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {model: Filters.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var a=(s=""+s).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),l=t.operator||(a?a[1]:""),u=a?a[2]:"",c=a?a[3]:"*z"===l?"*":"",d=t.bypassBackendQuery||!1;if(r&&""===u&&0===o.length)return C.removeColumnFilter(r),"continue";if(u=u.replace("'","''"),u=encodeURIComponent(u),d)r&&C.saveColumnFilter(r,s,o);else{if(b="",C.odataService.options.caseType===P.pascalCase&&(r=String.titleCase(r||"")),o&&1<o.length){var h=[];if("IN"===l){for(var p=0,f=o.length;p<f;p++)h.push(r+" eq '"+o[p]+"'");b="("+(b=h.join(" or "))+")"}else if("NIN"===l||"NOTIN"===l||"NOT IN"===l){for(var m=0,g=o.length;m<g;m++)h.push(r+" ne '"+o[m]+"'");b="("+(b=h.join(" and "))+")"}}else if("*"===l||"a*"===l||"*z"===l||""!==c)b="*"===l||"*z"===l?"endswith("+r+", '"+u+"')":"startswith("+r+", '"+u+"')";else if(n===A.date){var v=ee(u,!0);v&&(b=r+" "+C.mapOdataOperator(l)+" DateTime'"+v+"'")}else b=n===A.string?""===l?"substringof('"+u+"', "+r+")":r+" "+C.mapOdataOperator(l)+" '"+u+"'":(u=n===A.number?u:"'"+u+"'",r+" "+C.mapOdataOperator(l)+" "+u);""!==b&&(O.push(String.trim(b)),C.saveColumnFilter(r||"",s,o))}}},C=this;for(var t in y)e(t);this.odataService.updateOptions({filter:0<O.length?O.join(" and "):"",skip:undefined})},e.prototype.updatePagination=function(e,t){this._currentPagination={pageNumber:e,pageSize:t},this.odataService.updateOptions({top:t,skip:(e-1)*t})},e.prototype.updateSorters=function(e,t){var i=this,r=[],n=[];if(!e&&t){(r=t).forEach(function(e){return e.direction=e.direction.toLowerCase()});var o=r.map(function(t){var e=i._columnDefinitions.find(function(e){return e.id===t.columnId});return n.push({columnId:e?(e.queryField||e.queryFieldSorter||e.field||e.id)+"":t.columnId+"",direction:t.direction}),e?{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===R.ASC}:null});this._grid.setSortColumns(o)}else if(e&&!t)if(e&&0===e.length)r=new Array(this.defaultOptions.orderBy);else if(e){try{for(var s=T(e),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.sortCol){var u=(l.sortCol.queryField||l.sortCol.queryFieldSorter||l.sortCol.field||l.sortCol.id)+"",c=(l.sortCol.field||l.sortCol.id)+"";this.odataService.options.caseType===P.pascalCase&&(u=String.titleCase(u),c=String.titleCase(c)),n.push({columnId:c,direction:l.sortAsc?"asc":"desc"})}}}catch(f){d={error:f}}finally{try{a&&!a.done&&(h=s["return"])&&h.call(s)}finally{if(d)throw d.error}}r=n}var d,h,p=(r=r).map(function(e){return e.columnId+" "+e.direction.toLowerCase()}).join(",");return this.odataService.updateOptions({orderBy:this.odataService.options.caseType===P.pascalCase?String.titleCase(p):p}),this._currentSorters=r,this.odataService.buildQuery()},e.prototype.castFilterToColumnFilter=function(t){return("object"==typeof t?Object.keys(t).map(function(e){return t[e]}):t).map(function(e){var t=e.columnDef,i=(t&&(t.headerKey||t.name),{columnId:e.columnId||""});return e.operator&&(i.operator=e.operator),Array.isArray(e.searchTerms)&&(i.searchTerms=e.searchTerms),i})},e.prototype.mapOdataOperator=function(e){var t="";switch(e){case"<":t="lt";break;case"<=":t="le";break;case">":t="gt";break;case">=":t="ge";break;case"<>":case"!=":t="ne";break;case"=":case"==":default:t="eq"}return t},e}();It.decorators=[{type:f.Injectable}],It.ctorParameters=function(){return[]};var At=function(){function e(){this._eventHandler=new Slick.EventHandler}return e.prototype.attachOnCellChange=function(n,o){this._eventHandler.subscribe(n.onCellChange,function(e,t){if(e&&t&&n&&t.cell!==undefined&&n.getColumns&&n.getDataItem){var i=n.getColumns()[t.cell];if("function"==typeof i.onCellChange){var r={row:t.row,cell:t.cell,dataView:o,gridDefinition:n.getOptions(),grid:n,columnDef:i,dataContext:n.getDataItem(t.row)};i.onCellChange(e,r)}}})},e.prototype.attachOnClick=function(n,o){this._eventHandler.subscribe(n.onClick,function(e,t){if(e&&t&&n&&t.cell!==undefined&&n.getColumns&&n.getDataItem){var i=n.getColumns()[t.cell];if("function"==typeof i.onCellClick){var r={row:t.row,cell:t.cell,dataView:o,gridDefinition:n.getOptions(),grid:n,columnDef:i,dataContext:n.getDataItem(t.row)};i.onCellClick(e,r)}}})},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e}(),kt=function(){function e(){this._eventHandler=new Slick.EventHandler,this._columns=[],this._currentColumns=[],this.subscriptions=[],this.onGridStateChanged=new a.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t,i,r){this._grid=e,this.extensionService=t,this.filterService=i,this.sortService=r,this.subscribeToAllGridChanges(e)},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this.subscriptions.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()}),this.subscriptions=[]},e.prototype.getCurrentGridState=function(){var e={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters()},t=this.getCurrentPagination();return t&&(e.pagination=t),e},e.prototype.getColumns=function(){return this._columns||this._grid.getColumns()},e.prototype.getAssociatedCurrentColumns=function(e){var i=[];return e&&Array.isArray(e)&&e.forEach(function(e,t){e&&e.id&&i.push({columnId:e.id,cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",width:e.width||0})}),this._currentColumns=i},e.prototype.getAssociatedGridColumns=function(e,t){var r=[],n=e.getColumns();return t&&Array.isArray(t)&&t.forEach(function(t,e){var i=n.find(function(e){return e.id===t.columnId});i&&i.id&&r.push(Object.assign({},i,{cssClass:t.cssClass,headerCssClass:t.headerCssClass,width:t.width}))}),this._columns=r},e.prototype.getCurrentColumns=function(){return this._currentColumns&&Array.isArray(this._currentColumns)&&0<this._currentColumns.length?this._currentColumns:this.getAssociatedCurrentColumns(this._grid.getColumns())},e.prototype.getCurrentFilters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentFilters)return e.getCurrentFilters()}else if(this.filterService&&this.filterService.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null},e.prototype.getCurrentPagination=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentPagination)return e.getCurrentPagination()}return null},e.prototype.getCurrentSorters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentSorters)return e.getCurrentSorters()}else if(this.sortService&&this.sortService.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null},e.prototype.hookExtensionEventToGridStateChange=function(e,t){var n=this,i=this.extensionService&&this.extensionService.getExtensionByName(e);i&&i["class"]&&i["class"][t]&&i["class"][t].subscribe&&this._eventHandler.subscribe(i["class"][t],function(e,t){var i=t&&t.columns,r=n.getAssociatedCurrentColumns(i);n.onGridStateChanged.next({change:{newValues:r,type:M.columns},gridState:n.getCurrentGridState()})})},e.prototype.hookSlickGridEventToGridStateChange=function(e,n){var o=this;n&&n[e]&&n[e].subscribe&&this._eventHandler.subscribe(n[e],function(e,t){var i=n.getColumns(),r=o.getAssociatedCurrentColumns(i);o.onGridStateChanged.next({change:{newValues:r,type:M.columns},gridState:o.getCurrentGridState()})})},e.prototype.resetColumns=function(e){var t=e||this._columns,i=this.getAssociatedCurrentColumns(t);this.onGridStateChanged.next({change:{newValues:i,type:M.columns},gridState:this.getCurrentGridState()})},e.prototype.resetRowSelection=function(){if(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector){var e=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(I.rowSelection);e&&e.extension&&this._grid.setSelectedRows([])}},e.prototype.subscribeToAllGridChanges=function(e){var t=this;this.subscriptions.push(this.filterService.onFilterChanged.subscribe(function(e){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:e,type:M.filter},gridState:t.getCurrentGridState()})})),this.subscriptions.push(this.filterService.onFilterCleared.subscribe(function(){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:[],type:M.filter},gridState:t.getCurrentGridState()})})),this.subscriptions.push(this.sortService.onSortChanged.subscribe(function(e){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:e,type:M.sorter},gridState:t.getCurrentGridState()})})),this.subscriptions.push(this.sortService.onSortCleared.subscribe(function(){t.resetRowSelection(),t.onGridStateChanged.next({change:{newValues:[],type:M.sorter},gridState:t.getCurrentGridState()})})),this.hookExtensionEventToGridStateChange(I.columnPicker,"onColumnsChanged"),this.hookExtensionEventToGridStateChange(I.gridMenu,"onColumnsChanged"),this.hookSlickGridEventToGridStateChange("onColumnsReordered",e),this.hookSlickGridEventToGridStateChange("onColumnsResized",e)},e}(),Ft=function(){function e(e,t,i,r,n){this.extensionService=e,this.filterService=t,this.gridStateService=i,this.sortService=r,this.translate=n}return Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,this._dataView=t},e.prototype.getColumnFromEventArguments=function(e){if(!(e&&e.grid&&e.grid.getColumns&&e.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:e.row,cell:e.cell,columnDef:e.grid.getColumns()[e.cell],dataContext:e.grid.getDataItem(e.row),dataView:this._dataView,grid:this._grid,gridDefinition:this._gridOptions}},e.prototype.getDataItemByRowNumber=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");return this._grid.getDataItem(e)},e.prototype.getItemRowMetadataToHighlight=function(r){var n=this;return function(e){var t=n._dataView.getItem(e),i={cssClasses:""};return"function"==typeof r&&(i=r(e)),t&&t._dirty&&(i.cssClasses=(i&&i.cssClasses||"")+" dirty"),i||(i={cssClasses:""}),t&&t.rowClass&&i&&(i.cssClasses+=" "+t.rowClass,i.cssClasses+=" row"+e),i}},e.prototype.highlightRow=function(e,t){var i=this;if(void 0===t&&(t=1500),!this._grid.getSelectionModel()){var r=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{});this._grid.setSelectionModel(r)}var n=Array.isArray(e)?e:[e];this._grid.setSelectedRows(n),Array.isArray(e)?e.forEach(function(e){return i.highlightRowByMetadata(e,t)}):this.highlightRowByMetadata(e,t)},e.prototype.highlightRowByMetadata=function(e,t){var i=this;void 0===t&&(t=1500),this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);var r=this._dataView.getItem(e);if(r&&r.id){r.rowClass="highlight",this._dataView.updateItem(r.id,r);var n=this._grid.getOptions();$("#"+n.gridId).find(".highlight.row"+e).first(),setTimeout(function(){r&&r.id&&(delete r.rowClass,i._dataView.getIdxById(r.id)!==undefined&&i._dataView.updateItem(r.id,r))},t+10)}},e.prototype.getDataItemByRowIndex=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");return this._grid.getDataItem(e)},e.prototype.getDataItemByRowIndexes=function(e){var t=this;if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");var i=[];return Array.isArray(e)&&e.forEach(function(e){i.push(t._grid.getDataItem(e))}),i},e.prototype.getSelectedRows=function(){return this._grid.getSelectedRows()},e.prototype.getSelectedRowsDataItem=function(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error("We could not find SlickGrid Grid object");var e=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(e)},e.prototype.setSelectedRow=function(e){this._grid.setSelectedRows([e])},e.prototype.setSelectedRows=function(e){this._grid.setSelectedRows(e)},e.prototype.renderGrid=function(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())},e.prototype.resetGrid=function(e){if(this._grid&&this._dataView){var t=this.extensionService.getAllColumns();Array.isArray(t)&&0<t.length&&(this._grid.setColumns(t),this._dataView.refresh(),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(e))}this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()},e.prototype.addItemToDatagrid=function(e,t){if(void 0===t&&(t=!0),!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");this._dataView.insertItem(0,e),this._grid.scrollRowIntoView(0),t&&this.highlightRow(0,1500),this._dataView.refresh()},e.prototype.addItemsToDatagrid=function(e,t){var i=this;void 0===t&&(t=!0),Array.isArray(e)&&e.forEach(function(e){return i.addItemToDatagrid(e,t)})},e.prototype.deleteDataGridItem=function(e){if(!e||!e.hasOwnProperty("id"))throw new Error('deleteDataGridItem() requires an item object which includes the "id" property');var t=e&&e.hasOwnProperty("id")?e.id:undefined;this.deleteDataGridItemById(t)},e.prototype.deleteDataGridItemById=function(e){if(e===undefined)throw new Error('Cannot delete a row without a valid "id"');this._dataView.deleteItem(e),this._dataView.refresh()},e.prototype.updateDataGridItem=function(e,t){void 0===t&&(t=!0);var i=e&&e.hasOwnProperty("id")?e.id:undefined;if(i===undefined)throw new Error('Could not find the item in the grid or it\'s associated "id"');return this.updateDataGridItemById(i,e,t)},e.prototype.updateDataGridItems=function(e,t){var i=this;if(void 0===t&&(t=!0),!Array.isArray(e))throw new Error('The function "updateDataGridItems" only support array of items, if you wish to only update 1 item then use "updateDataGridItem"');var r=[];e.forEach(function(e){r.push(i.updateDataGridItem(e,!1))}),t&&this.highlightRow(r)},e.prototype.updateDataGridItemById=function(e,t,i){if(void 0===i&&(i=!0),e===undefined)throw new Error('Cannot update a row without a valid "id"');var r=this._dataView.getRowById(e);if(!t||r===undefined)throw new Error('Could not find the item in the grid or it\'s associated "id"');var n=this._dataView.getIdxById(e);if(n!==undefined)return this._dataView.updateItem(e,t),i&&this.highlightRow(r,1500),this._dataView.refresh(),n},e}();Ft.decorators=[{type:f.Injectable}],Ft.ctorParameters=function(){return[{type:Et},{type:gt},{type:kt},{type:vt},{type:s.TranslateService}]};var Mt=function(){function e(){this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){var i=this;this._grid=e,this._dataView=t,e&&this._gridOptions&&this._gridOptions.createPreHeaderPanel&&(this._eventHandler.subscribe(e.onSort,function(e,t){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(e.onColumnsResized,function(e,t){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(t.onRowCountChanged,function(e,t){i.createPreHeaderRowGroupingTitle()}),setTimeout(function(){i.createPreHeaderRowGroupingTitle()},50))},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e.prototype.createPreHeaderRowGroupingTitle=function(){var e=$(this._grid.getPreHeaderPanel()).empty().addClass("slick-header-columns").css("left","-1000px").width(this._grid.getHeadersWidth());e.parent().addClass("slick-header");for(var t,i,r=this._grid.getHeaderColumnWidthDiff(),n="",o=0,s=0;s<this._columnDefinitions.length;s++)n===(t=this._columnDefinitions[s]).columnGroup&&0<s?(o+=t.width,i.width(o-r)):(o=t.width,i=$('<div class="ui-state-default slick-header-column" />').html('<span class="slick-column-name">'+(t.columnGroup||"")+"</span>").width(t.width-r).appendTo(e)),n=t.columnGroup},e}(),Nt=function(){function e(){this.onGridBeforeResize=new a.Subject}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_gridUid",{get:function(){return this._grid&&this._grid.getUID?this._grid.getUID():this._gridOptions.gridId},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,t&&(this._fixedHeight=t.height,this._fixedWidth=t.width)},e.prototype.attachAutoResizeDataGrid=function(e){var t=this,i=$("#"+(this._gridOptions&&this._gridOptions.gridId?this._gridOptions.gridId:"grid1"));if(i===undefined||i.offset()===undefined)return null;this.resizeGrid(10,e),$(window).on("resize.grid."+this._gridUid,function(){t.onGridBeforeResize.next(!0),t.resizeGrid(0,e)})},e.prototype.calculateGridNewDimensions=function(e){var t=$("#"+e.gridId),i=e&&e.autoResize,r=i&&i.containerId?$("#"+i.containerId):$("#"+e.gridContainerId),n=$(window);if(n===undefined||r===undefined||t===undefined)return null;var o=i&&i.bottomPadding?i.bottomPadding:20;o&&(e.enablePagination||this._gridOptions.backendServiceApi)&&(o+=35);var s=n.height()||0,a=t.offset(),l=s-(a!==undefined?a.top:0)-o,u=r.width()||0,c=i&&i.maxHeight&&0<i.maxHeight?i.maxHeight:undefined,d=i&&i.minHeight&&i.minHeight<0?i.minHeight:180,h=i&&i.maxWidth&&0<i.maxWidth?i.maxWidth:undefined,p=i&&i.minWidth&&i.minWidth<0?i.minWidth:300,f=l,m=i&&i.sidePadding?u-i.sidePadding:u;return f<d&&(f=d),c&&c<f&&(f=c),m<p&&(m=p),h&&h<m&&(m=h),{height:this._fixedHeight||f,width:this._fixedWidth||m}},e.prototype.dispose=function(){$(window).off("resize.grid."+this._gridUid)},e.prototype.compensateHorizontalScroll=function(e,t){var i=$("#"+t.gridId),r=e&&e.getScrollbarDimensions(),n=r&&r.width,o=X();n<o&&i.width(i.width()+(o-n))},e.prototype.getLastResizeDimensions=function(){return this._lastDimensions},e.prototype.resizeGrid=function(t,i){var r=this;if(void 0===t&&(t=10),!this._grid||!this._gridOptions)throw new Error('\n      Angular-Slickgrid resizer requires a valid Grid object and Grid Options defined.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling attachAutoResizeDataGrid()');return new Promise(function(e){0<(t=t||0)?(clearTimeout(r._timer),r._timer=setTimeout(function(){r.resizeGridWithDimensions(i),e(r._lastDimensions)},t)):(r.resizeGridWithDimensions(i),e(r._lastDimensions))})},e.prototype.resizeGridWithDimensions=function(e){var t=this.calculateGridNewDimensions(this._gridOptions),i=$("#"+this._gridOptions.gridId)||{},r=$("#"+this._gridOptions.gridContainerId)||{};if((e||t)&&0<i.length){var n=e&&e.height?e.height:t.height,o=e&&e.width?e.width:t.width;i.height(n),i.width(o),r.height(n),r.width(o),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&this._grid&&this._grid.resizeCanvas&&this._grid.resizeCanvas(),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&(this._grid.autosizeColumns,1)&&(this._gridUid&&0<$("."+this._gridUid).length&&this._grid.autosizeColumns(),this.compensateHorizontalScroll(this._grid,this._gridOptions)),this._lastDimensions={height:n,width:o},(this._gridOptions.enablePagination||this._gridOptions.backendServiceApi)&&(this._lastDimensions.heightWithPagination=n+35)}return this._lastDimensions},e}(),$t=function(){function e(e){this._field=e}return e.prototype.init=function(){this._count=0,this._nonNullCount=0,this._sum=0},e.prototype.accumulate=function(e){var t=e[this._field];this._count++,null==t||""===t||isNaN(t)||(this._nonNullCount++,this._sum+=parseFloat(t))},e.prototype.storeResult=function(e){e.avg||(e.avg={}),0!==this._nonNullCount&&(e.avg[this._field]=this._sum/this._nonNullCount)},e}(),Vt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._min=null},e.prototype.accumulate=function(e){var t=e[this._field];null==t||""===t||isNaN(t)||(null==this._min||t<this._min)&&(this._min=t)},e.prototype.storeResult=function(e){e.min||(e.min={}),e.min[this._field]=this._min},e}(),Rt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._max=null},e.prototype.accumulate=function(e){var t=e[this._field];null==t||""===t||isNaN(t)||(null==this._max||t>this._max)&&(this._max=t)},e.prototype.storeResult=function(e){e.max||(e.max={}),e.max[this._field]=this._max},e}(),Gt=function(){function e(e){this._field=e}return e.prototype.init=function(){this._sum=null},e.prototype.accumulate=function(e){var t=e[this._field];null==t||""===t||isNaN(t)||(this._sum+=parseFloat(t))},e.prototype.storeResult=function(e){e.sum||(e.sum={}),e.sum[this._field]=this._sum},e}(),Ht={Avg:$t,Min:Vt,Max:Rt,Sum:Gt},Lt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id;this.$input=$('<input type="checkbox" value="true" class="editor-checkbox editor-'+t+'" />'),this.$input.appendTo(this.args.container),this.$input.focus(),this.args.grid.getOptions().autoCommitEdit&&this.$input.click(function(){return e.args.grid.getEditorLock().commitCurrentEdit()})},e.prototype.destroy=function(){this.$input.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.hide=function(){this.$input.hide()},e.prototype.show=function(){this.$input.show()},e.prototype.loadValue=function(e){this.defaultValue=!!e[this.columnDef.field],this.defaultValue?this.$input.prop("checked",!0):this.$input.prop("checked",!1)},e.prototype.preClick=function(){this.$input.prop("checked",!this.$input.prop("checked"))},e.prototype.serializeValue=function(){return this.$input.prop("checked")},e.prototype.applyValue=function(e,t){e[this.columnDef.field]=t},e.prototype.isValueChanged=function(){return this.serializeValue()!==this.defaultValue},e.prototype.validate=function(){if(this.validator){var e=this.$input&&this.$input.val&&this.$input.val(),t=this.validator(e,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},e}(),jt=o;require("flatpickr");var Bt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var r=this;if(this.args&&this.args.column){var e=this.columnDef&&this.columnDef.id,t=this.args.grid.getOptions();this.defaultDate=this.args.item?this.args.item[this.args.column.field]:null;var i=K(this.columnDef.type||A.dateIso),n=K(this.columnDef.outputType||A.dateUtc),o=this.getCurrentLocale(this.columnDef,t);2<o.length&&(o=o.substring(0,2));var s={defaultDate:this.defaultDate,altInput:!0,altFormat:i,dateFormat:n,closeOnSelect:!1,locale:"en"!==o?this.loadFlatpickrLocale(o):"en",onChange:function(e,t,i){r.save()}};this.$input=$('<input type="text" data-defaultDate="'+this.defaultDate+'" class="editor-text flatpickr editor-'+e+'" />'),this.$input.appendTo(this.args.container),this.flatInstance=this.$input[0]&&"function"==typeof this.$input[0].flatpickr?this.$input[0].flatpickr(s):null,this.show()}},e.prototype.getCurrentLocale=function(e,t){var i=t||e.params||{};return i.i18n&&i.i18n instanceof s.TranslateService?i.i18n.currentLang:"en"},e.prototype.loadFlatpickrLocale=function(e){var t=this.args&&this.args.grid&&this.args.grid.getOptions();if(t&&t.params&&t.params.flapickrLocale)return t.params.flapickrLocale;if("en"===e)return"en";var i=require("flatpickr/dist/l10n/"+e+".js")["default"];return i&&i[e]?i[e]:"en"},e.prototype.destroy=function(){this.hide(),this.$input.remove()},e.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},e.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},e.prototype.focus=function(){this.$input.focus()},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.args.grid.getOptions().autoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.loadValue=function(e){this.defaultDate=e[this.args.column.field],this.flatInstance.setDate(e[this.args.column.field])},e.prototype.serializeValue=function(){var e=this.$input.val();if(!e)return"";var t=Q(this.args.column.type||A.dateIso);return jt(e).format(t)},e.prototype.applyValue=function(e,t){if(t){var i=Q(this.args.column.type||A.dateIso);e[this.args.column.field]=jt(t,i).toDate()}},e.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null==this.defaultDate)&&this.$input.val()!==this.defaultDate},e.prototype.validate=function(){if(this.validator){var e=this.$input&&this.$input.val&&this.$input.val(),t=this.validator(e,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},e}(),Ut=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id;this.$input=$('<input type="number" class="editor-text editor-'+t+'" step="'+this.getInputDecimalSteps()+'" />').appendTo(this.args.container).on("keydown.nav",function(e){e.keyCode!==N.LEFT&&e.keyCode!==N.RIGHT||e.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return e.save()}),setTimeout(function(){e.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.getDecimalPlaces=function(){var e=this.columnEditor.params&&this.columnEditor.params.hasOwnProperty("decimalPlaces")?this.columnEditor.params.decimalPlaces:undefined;return e===undefined&&(e=0),e||0===e?e:null},e.prototype.getInputDecimalSteps=function(){for(var e=this.getDecimalPlaces(),t="",i=1;i<e;i++)t+="0";return 0<e?"0."+t+"1":"1"},e.prototype.loadValue=function(e){this.defaultValue=e[this.columnDef.field];var t=this.getDecimalPlaces();null!==t&&(this.defaultValue||0===this.defaultValue)&&this.defaultValue.toFixed&&(this.defaultValue=this.defaultValue.toFixed(t)),this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()},e.prototype.serializeValue=function(){var e=parseFloat(this.$input.val())||0,t=this.getDecimalPlaces();return null!==t&&(e||0===e)&&e.toFixed&&(e=parseFloat(e.toFixed(t))),e},e.prototype.applyValue=function(e,t){e[this.columnDef.field]=t},e.prototype.isValueChanged=function(){var e=this.$input.val();return!(""===e&&null===this.defaultValue)&&e!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.validate=function(){var e=this.$input.val(),t=isNaN(e)?null:parseFloat(e),i=this.getDecimalPlaces(),r=this.columnEditor.minValue,n=this.columnEditor.maxValue,o=this.columnEditor.errorMessage,s={"{{minValue}}":r,"{{maxValue}}":n,"{{minDecimal}}":0,"{{maxDecimal}}":i};if(this.validator){var a=this.validator(e,this.args);if(!a.valid)return a}else{if(isNaN(e)||0===i&&!/^[-+]?(\d+(\.)?(\d)*)$/.test(e))return{valid:!1,msg:o||Ce.VALIDATION_EDITOR_VALID_NUMBER};if(r!==undefined&&n!==undefined&&null!==t&&(t<r||n<t))return{valid:!1,msg:o||Ce.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return s[e]})};if(r!==undefined&&null!==t&&t<=r)return{valid:!1,msg:o||Ce.VALIDATION_EDITOR_NUMBER_MIN.replace(/{{minValue}}/gi,function(e){return s[e]})};if(n!==undefined&&null!==t&&n<=t)return{valid:!1,msg:o||Ce.VALIDATION_EDITOR_NUMBER_MAX.replace(/{{maxValue}}/gi,function(e){return s[e]})};if(0<i&&!new RegExp("^(\\d*(\\.)?(\\d){0,"+i+"})$").test(e))return{valid:!1,msg:o||Ce.VALIDATION_EDITOR_DECIMAL_BETWEEN.replace(/{{minDecimal}}|{{maxDecimal}}/gi,function(e){return s[e]})}}return{valid:!0,msg:null}},e}(),zt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id;this.$input=$('<input type="number" class="editor-text editor-'+t+'" />').appendTo(this.args.container).on("keydown.nav",function(e){e.keyCode!==N.LEFT&&e.keyCode!==N.RIGHT||e.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return e.save()}),setTimeout(function(){e.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.loadValue=function(e){this.defaultValue=parseInt(e[this.args.column.field],10),this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()},e.prototype.serializeValue=function(){return parseInt(this.$input.val(),10)||0},e.prototype.applyValue=function(e,t){e[this.args.column.field]=t},e.prototype.isValueChanged=function(){var e=this.$input.val(),t=isNaN(e)?e:parseInt(e,10);return!(""===t&&null===this.defaultValue)&&t!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.validate=function(){var e=this.$input.val(),t=this.columnEditor.params&&this.columnEditor.errorMessage;if(this.validator){var i=this.validator(e,this.args);if(!i.valid)return i}else if(isNaN(e)||!/^[+-]?\d+$/.test(e))return{valid:!1,msg:t||Ce.VALIDATION_EDITOR_VALID_INTEGER};return{valid:!0,msg:null}},e}(),qt=function(){function e(e){this.args=e,this.gridOptions=this.args.grid.getOptions();var t=this.gridOptions||this.args.column.params||{};this._translate=t.i18n,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id,i=this._translate&&this._translate.instant("CANCEL")||Ce.TEXT_CANCEL,r=this._translate&&this._translate.instant("SAVE")||Ce.TEXT_SAVE,n=$("body");this.$wrapper=$('<div class="slick-large-editor-text editor-'+t+'" />').appendTo(n),this.$input=$('<textarea hidefocus rows="5">').appendTo(this.$wrapper),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return e.save()}),$('<div class="editor-footer">\n          <button class="btn btn-primary btn-xs">'+r+'</button>\n          <button class="btn btn-default btn-xs">'+i+"</button>\n      </div>").appendTo(this.$wrapper),this.$wrapper.find("button:first").on("click",function(){return e.save()}),this.$wrapper.find("button:last").on("click",function(){return e.cancel()}),this.$input.on("keydown",this.handleKeyDown.bind(this)),this.position(this.args&&this.args.position),this.$input.focus().select()},e.prototype.handleKeyDown=function(e){e.which===N.ENTER&&e.ctrlKey?this.save():e.which===N.ESCAPE?(e.preventDefault(),this.cancel()):e.which===N.TAB&&e.shiftKey?(e.preventDefault(),this.args&&this.args.grid&&this.args.grid.navigatePrev()):e.which===N.TAB&&(e.preventDefault(),this.args&&this.args.grid&&this.args.grid.navigateNext())},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.cancel=function(){this.$input.val(this.defaultValue),this.args&&this.args.cancelChanges&&this.args.cancelChanges()},e.prototype.hide=function(){this.$wrapper.hide()},e.prototype.show=function(){this.$wrapper.show()},e.prototype.position=function(e){this.$wrapper.css("top",(e.top||0)-5).css("left",(e.left||0)-5)},e.prototype.destroy=function(){this.$wrapper.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getColumnEditor=function(){return this.args&&this.args.column&&this.args.column.internalColumnEditor&&this.args.column.internalColumnEditor},e.prototype.loadValue=function(e){this.$input.val(this.defaultValue=e[this.columnDef.field]),this.$input.select()},e.prototype.serializeValue=function(){return this.$input.val()},e.prototype.applyValue=function(e,t){e[this.columnDef.field]=t},e.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null==this.defaultValue)&&this.$input.val()!==this.defaultValue},e.prototype.validate=function(){if(this.validator){var e=this.$input&&this.$input.val&&this.$input.val(),t=this.validator(e,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},e}(),Wt=u,Yt=function(){function e(e,t){var i=this;this.args=e,this.isMultipleSelect=t,this._subscriptions=[],this._destroying=!1,this.gridOptions=this.args.grid.getOptions();var r=this.gridOptions||this.args.column.params||{};this._translate=r.i18n;var n=this.columnDef&&this.columnDef.id;this.elementName="editor-"+n;var o={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,name:this.elementName,single:!0,textTemplate:function(e){return i.columnDef&&i.columnDef.internalColumnEditor&&i.columnDef.internalColumnEditor.enableRenderHtml||!1?e.text():e.html()},onBlur:function(){return i.destroy()},onClose:function(){!i._destroying&&e.grid.getOptions().autoCommitEdit&&e.grid.getEditorLock().commitCurrentEdit()}};t&&(o.single=!1,o.addTitle=!0,o.okButton=!0,o.selectAllDelimiter=["",""],this._translate&&(o.countSelected=this._translate.instant("X_OF_Y_SELECTED"),o.allSelected=this._translate.instant("ALL_SELECTED"),o.selectAllText=this._translate.instant("SELECT_ALL"))),this.defaultOptions=o,this.init()}return Object.defineProperty(e.prototype,"collection",{get:function(){return this.columnDef&&this.columnDef&&this.columnDef.internalColumnEditor.collection||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionOptions",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collectionOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.customStructure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValues",{get:function(){var n=this;if(this.collection.every(function(e){return"string"==typeof e}))return this.collection.filter(function(e){return-1!==n.$editorElm.val().indexOf(e.toString())});var o=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",s=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1;return this.collection.filter(function(e){return-1!==n.$editorElm.val().indexOf(e[n.valueName].toString())}).map(function(e){var t=e[n.valueName],i=e[n.labelPrefixName]||"",r=e[n.labelSuffixName]||"";return i=n.enableTranslateLabel&&i&&"string"==typeof i?n._translate.instant(i||" "):i,r=n.enableTranslateLabel&&r&&"string"==typeof r?n._translate.instant(r||" "):r,s?[i,t,r].filter(function(e){return e}).join(o):t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValue",{get:function(){var t=this;if(this.collection.every(function(e){return"string"==typeof e}))return q(this.collection,function(e){return e.toString()===t.$editorElm.val()});var e=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",i=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1,r=q(this.collection,function(e){return e[t.valueName].toString()===t.$editorElm.val()});if(r){var n=r[this.valueName];if(i){var o=r[this.labelPrefixName]||"",s=r[this.labelSuffixName]||"";return[o=this.enableTranslateLabel&&o&&"string"==typeof o?this._translate.instant(o||" "):o,n,s=this.enableTranslateLabel&&s&&"string"==typeof s?this._translate.instant(s||" "):s].filter(function(e){return e}).join(e)}return n}return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){if(!this.args)throw new Error('[Angular-SlickGrid] An editor must always have an "init()" with valid arguments.');if(!this.columnDef||!this.columnDef.internalColumnEditor||!this.columnDef.internalColumnEditor.collection&&!this.columnDef.internalColumnEditor.collectionAsync)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" (or \"collectionAsync\") inside Column Definition Editor for the MultipleSelect/SingleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }");if(this._collectionService=new be(this._translate),this.enableTranslateLabel=!!this.columnDef.internalColumnEditor.enableTranslateLabel&&this.columnDef.internalColumnEditor.enableTranslateLabel,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this._translate||"function"!=typeof this._translate.instant))throw new Error("[select-editor] The ngx-translate TranslateService is required for the Select Editor to work correctly");this.renderDomElement(this.collection)},e.prototype.applyValue=function(e,t){e[this.columnDef.field]=t},e.prototype.destroy=function(){this._destroying=!0,this.$editorElm&&this.$editorElm.multipleSelect&&(this.$editorElm.multipleSelect("close"),this.$editorElm.remove()),this._subscriptions=oe(this._subscriptions)},e.prototype.loadValue=function(e){this.isMultipleSelect?this.loadMultipleValues(e):this.loadSingleValue(e),this.refresh()},e.prototype.loadMultipleValues=function(e){var i=this;this.defaultValue=e[this.columnDef.field].map(function(e){return e.toString()}),this.$editorElm.find("option").each(function(e,t){t.selected=-1!==i.defaultValue.indexOf(t.value)})},e.prototype.loadSingleValue=function(e){var i=this;this.defaultValue=e[this.columnDef.field]&&e[this.columnDef.field].toString(),this.$editorElm.find("option").each(function(e,t){t.selected=i.defaultValue===t.value})},e.prototype.serializeValue=function(){return this.isMultipleSelect?this.currentValues:this.currentValue},e.prototype.focus=function(){this.$editorElm&&this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("focus")},e.prototype.isValueChanged=function(){return this.isMultipleSelect?!U(this.$editorElm.val(),this.defaultValue):this.$editorElm.val()!==this.defaultValue},e.prototype.validate=function(){if(this.validator){var e=this.isMultipleSelect?this.currentValues:this.currentValue,t=this.validator(e,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},e.prototype.filterCollection=function(e){var t=e;if(this.columnEditor&&this.columnEditor.collectionFilterBy){var i=this.columnEditor.collectionFilterBy,r=this.columnEditor.collectionOptions&&this.columnEditor.collectionOptions.filterAfterEachPass||null;t=this._collectionService.filterCollection(t,i,r)}return t},e.prototype.sortCollection=function(e){var t=e;if(this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collectionSortBy){var i=this.columnDef.internalColumnEditor.collectionSortBy;t=this._collectionService.sortCollection(t,i,this.enableTranslateLabel)}return t},e.prototype.renderDomElement=function(e){if(!Array.isArray(e)&&this.collectionOptions&&this.collectionOptions.collectionInObjectProperty&&(e=Y(e,this.collectionOptions.collectionInObjectProperty)),!Array.isArray(e))throw new Error('The "collection" passed to the Select Editor is not a valid array');this.collectionOptions&&this.collectionOptions.addBlankEntry&&e.unshift(this.createBlankEntry());var t=e||[];t=this.filterCollection(t),t=this.sortCollection(t);var i=this.buildTemplateHtmlString(t);this.createDomElement(i)},e.prototype.buildTemplateHtmlString=function(e){var a=this,l="",t=this.columnDef&&this.columnDef.id,u=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",c=this.columnDef.internalColumnEditor.enableRenderHtml||!1,d=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return e.every(function(e){return"string"==typeof e})?e.forEach(function(e){l+='<option value="'+e+'" label="'+e+'">'+e+"</option>"}):e.forEach(function(e){if(!e||e[a.labelName]===undefined&&e.labelKey===undefined)throw new Error("[select-editor] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { collection: [ { value: '1', label: 'One' } ])");var t=e.labelKey||e[a.labelName],i=(e.labelKey||a.enableTranslateLabel)&&t?a._translate.instant(t||" "):t,r=e[a.labelPrefixName]||"",n=e[a.labelSuffixName]||"",o=e[a.optionLabel]||"";o=o.toString().replace(/\"/g,"'"),r=a.enableTranslateLabel&&r&&"string"==typeof r?a._translate.instant(r||" "):r,n=a.enableTranslateLabel&&n&&"string"==typeof n?a._translate.instant(n||" "):n,o=a.enableTranslateLabel&&o&&"string"==typeof o?a._translate.instant(o||" "):o;var s=[r,i,n].filter(function(e){return e}).join(u);c&&(s=j(Wt.sanitize(s,d)));l+='<option value="'+e[a.valueName]+'" label="'+o+'">'+s+"</option>"}),'<select id="'+this.elementName+'" class="ms-filter search-filter editor-'+t+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+l+"</select>"},e.prototype.createBlankEntry=function(){var e,t=((e={})[this.labelName]="",e[this.valueName]="",e);return this.labelPrefixName&&(t[this.labelPrefixName]=""),this.labelSuffixName&&(t[this.labelSuffixName]=""),t},e.prototype.createDomElement=function(e){var t=this;if(this.$editorElm=$(e),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&this.$editorElm.appendTo(this.args.container),"function"!=typeof this.$editorElm.multipleSelect)this.$editorElm.addClass("form-control");else{var i=this.columnDef.internalColumnEditor?this.columnDef.internalColumnEditor.elementOptions:{};this.editorElmOptions=Object.assign({},this.defaultOptions,i),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),setTimeout(function(){return t.$editorElm.multipleSelect("open")})}},e.prototype.refresh=function(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")},e}(),Xt=function(i){function e(e){var t=i.call(this,e,!0)||this;return t.args=e,t}return C(e,i),e}(Yt),Qt=function(i){function e(e){var t=i.call(this,e,!1)||this;return t.args=e,t}return C(e,i),e}(Yt),Kt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorParams",{get:function(){return this.columnEditor.params||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,e=this.args&&this.args.container,i=this.args&&this.args.item&&this.args.item.id;this._elementRangeInputId="rangeInput_"+this.columnDef.field+"_"+i,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field+"_"+i;var r=this.buildTemplateHtmlString();this.$editorElm=$(r),this.$input=this.$editorElm.children("input"),this.$sliderNumber=this.$editorElm.children("div.input-group-addon.input-group-append").children(),this.$editorElm.appendTo(e).on("mouseup",function(){return t.save()}),this.editorParams.hideSliderNumber||this.$editorElm.on("input change",function(e){(e&&e.target&&e.target.value||"")&&(document.getElementById(t._elementRangeOutputId).innerHTML=e.target.value)})},e.prototype.destroy=function(){this.$editorElm.remove()},e.prototype.focus=function(){this.$editorElm.focus()},e.prototype.save=function(){this.args.grid.getOptions().autoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()},e.prototype.cancel=function(){this.$input.val(this.defaultValue),this.args.cancelChanges()},e.prototype.loadValue=function(e){this.defaultValue=e[this.columnDef.field],this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$sliderNumber.html(this.defaultValue)},e.prototype.serializeValue=function(){return parseInt(this.$input.val(),10)||0},e.prototype.applyValue=function(e,t){e[this.columnDef.field]=t},e.prototype.isValueChanged=function(){var e=this.$input.val();return!(""===e&&null===this.defaultValue)&&e!==this.defaultValue},e.prototype.validate=function(){var e=this.$input.val(),t=this.columnEditor.minValue,i=this.columnEditor.maxValue,r=this.columnEditor.errorMessage,n={"{{minValue}}":t,"{{maxValue}}":i};if(this.validator){var o=this.validator(e,this.args);if(!o.valid)return o}else if(t!==undefined&&(e<t||i<e))return{valid:!1,msg:r||Ce.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,function(e){return n[e]})};return{valid:!0,msg:null}},e.prototype.buildTemplateHtmlString=function(){var e=this.columnDef&&this.columnDef.id,t=this.columnEditor.hasOwnProperty("minValue")?this.columnEditor.minValue:0,i=this.columnEditor.hasOwnProperty("maxValue")?this.columnEditor.maxValue:100,r=this.editorParams.hasOwnProperty("sliderStartValue")?this.editorParams.sliderStartValue:t,n=this.columnEditor.hasOwnProperty("valueStep")?this.columnEditor.valueStep:1;this.args&&this.args.item&&this.args.item.id;return this.editorParams.hideSliderNumber?'\n      <div class="slider-editor">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-editor-input editor-'+e+' range" />\n      </div>':'\n      <div class="input-group slider-editor">\n        <input type="range" id="'+this._elementRangeInputId+'"\n          name="'+this._elementRangeInputId+'"\n          defaultValue="'+r+'" min="'+t+'" max="'+i+'" step="'+n+'"\n          class="form-control slider-editor-input editor-'+e+' range" />\n        <div class="input-group-addon input-group-append slider-value"><span class="input-group-text" id="'+this._elementRangeOutputId+'">'+r+"</span></div>\n      </div>"},e}(),Zt=function(){function e(e){this.args=e,this.init()}return Object.defineProperty(e.prototype,"columnDef",{get:function(){return this.args&&this.args.column||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return this.columnEditor.validator||this.columnDef.validator},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this,t=this.columnDef&&this.columnDef.id;this.$input=$('<input type="text" class="editor-text editor-'+t+'" />').appendTo(this.args.container).on("keydown.nav",function(e){e.keyCode!==N.LEFT&&e.keyCode!==N.RIGHT||e.stopImmediatePropagation()}),this.hasAutoCommitEdit&&this.$input.on("focusout",function(){return e.save()}),setTimeout(function(){e.$input.focus().select()},50)},e.prototype.destroy=function(){this.$input.remove()},e.prototype.focus=function(){this.$input.focus()},e.prototype.getValue=function(){return this.$input.val()},e.prototype.setValue=function(e){this.$input.val(e)},e.prototype.loadValue=function(e){this.defaultValue=e[this.args.column.field]||"",this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()},e.prototype.serializeValue=function(){return this.$input.val()},e.prototype.applyValue=function(e,t){e[this.args.column.field]=t},e.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null===this.defaultValue)&&this.$input.val()!==this.defaultValue},e.prototype.save=function(){var e=this.validate();e&&e.valid&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},e.prototype.validate=function(){if(this.validator){var e=this.$input&&this.$input.val&&this.$input.val(),t=this.validator(e,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},e}(),Jt={checkbox:Lt,date:Bt,"float":Ut,integer:zt,longText:qt,multipleSelect:Xt,singleSelect:Qt,slider:Kt,text:Zt},ei=function(e,t,i,r,n){var o=r&&r.params&&r.params.propertyNames,s=r&&r.field&&r.field.split(".")[0];if(!o||!Array.isArray(o)||!s)throw new Error('Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.\n      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: [\'firtName\'] }}');if(n[s]&&Array.isArray(n[s])&&Array.isArray(n[s])){var a=[];n[s].forEach(function(t){var i=[];o.forEach(function(e){i.push(t[e])}),a.push(i.join(" "))});var l=a.join(", ");return'<span title="'+l+'">'+l+"</span>"}return""},ti=function(e,t,i,r,n){if(i&&Array.isArray(i)){var o=i.join(", ");return'<span title="'+o+'">'+o+"</span>"}return""},ii=function(e,t,i,r,n){return null!==i&&i!==undefined&&!isNaN(+i)?'<span style="font-weight: bold">'+W(i,2,2)+"$</span>":""},ri=function(e,t,i,r,n){return i?"&#x2611;":""},ni=function(e,t,i,r,n){return i?'<i class="fa fa-check checkmark-icon" aria-hidden="true"></i>':""},oi=function(e,t,i,r,n){if(!(i&&r&&r.params&&r.params.collection&&r.params.collection.length))return"";var o=r.params,s=r.params.collection,a=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?ti(0,0,i.map(function(t){return q(s,function(e){return e[l]===t})[a]})):q(s,function(e){return e[l]===i})[a]||""},si=function(e,t,i,r,n){if(!(i&&r&&r.internalColumnEditor&&r.internalColumnEditor.collection&&r.internalColumnEditor.collection.length))return"";var o=r.internalColumnEditor,s=r.internalColumnEditor.collection,a=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?s.every(function(e){return"string"==typeof e})?ti(0,0,i.map(function(t){return q(s,function(e){return e===t})})):ti(0,0,i.map(function(t){return q(s,function(e){return e[l]===t})[a]})):q(s,function(e){return e[l]===i})[a]||""},ai=function(e,t,i,r,n){return r?(r.field||"").split(".").reduce(function(e,t){return e?e[t]:""},n):""},li=o,ui=Q(A.dateIso),ci=function(e,t,i,r,n){var o=li(i,ui,!1).isValid();return i&&o?li(i).format(ui):i},di=o,hi=Q(A.dateTimeIso),pi=function(e,t,i,r,n){var o=di(i,hi,!1).isValid();return i&&o?di(i).format(hi):i},fi=o,mi=Q(A.dateTimeIsoAmPm),gi=function(e,t,i,r,n){var o=fi(i,mi,!1).isValid();return i&&o?fi(i).format(mi):i},vi=o,yi=Q(A.dateTimeUsAmPm),Si=function(e,t,i,r,n){var o=vi(i,yi,!1).isValid();return i&&o?vi(i).format(yi):i},bi=o,Oi=Q(A.dateTimeUs),Ci=function(e,t,i,r,n){var o=bi(i,Oi,!1).isValid();return i&&o?bi(i).format(Oi):i},_i=o,Ei=Q(A.dateTimeShortIso),Ti=function(e,t,i,r,n){var o=_i(i,Ei,!1).isValid();return i&&o?_i(i).format(Ei):i},xi=o,wi=Q(A.dateTimeShortUs),Pi=function(e,t,i,r,n){var o=xi(i,wi,!1).isValid();return i&&o?xi(i).format(wi):i},Di=o,Ii=Q(A.dateUs),Ai=function(e,t,i,r,n){var o=Di(i,Ii,!1).isValid();return i&&o?Di(i).format(Ii):i},ki=function(e,t,i,r,n){var o=r.params||{},s=o.minDecimalPlaces||o.decimalPlaces||2,a=o.maxDecimalPlaces||2;return null!==i&&i!==undefined&&!isNaN(+i)?""+W(i,s,a):i},Fi=function(e,t,i,r,n){return'<i class="fa fa-trash pointer delete-icon" aria-hidden="true"></i>'},Mi=function(e,t,i,r,n){var o=null!==i&&i!==undefined&&!isNaN(+i),s=r&&r.params||{},a=s.minDecimal||2,l=s.minDecimal||4,u=o&&(s.minDecimal||s.maxDecimal)?W(i,a,l):i;return o?0<=i?'<span style="color:green; font-weight: bold;">$'+u+"</span>":'<span style="color:red; font-weight: bold;">$'+u+"</span>":""},Ni=function(e,t,i,r,n){var o=null!==i&&i!==undefined&&!isNaN(+i),s=r&&r.params||{},a=s.minDecimal||2,l=s.minDecimal||4,u=o&&(s.minDecimal||s.maxDecimal)?W(i,a,l):i;return o?0<=i?'<span style="color:green;">$'+u+"</span>":'<span style="color:red;">$'+u+"</span>":""},$i=function(e,t,i,r,n){var o=null!==i&&i!==undefined&&!isNaN(+i),s=r&&r.params||{},a=s.minDecimal||2,l=s.minDecimal||4,u=o&&(s.minDecimal||s.maxDecimal)?W(i,a,l):i;return o?"$"+u:""},Vi=function(e,t,i,r,n){return'<i class="fa fa-pencil pointer edit-icon" aria-hidden="true"></i>'},Ri=function(e,t,i,r,n){if(i&&"string"==typeof i){var o=i.match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i);if(o&&Array.isArray(o))return'<a href="'+o[0]+"\">' + value + '</a>"}return""},Gi=function(e,t,i,r,n){var o=r&&r.params&&r.params.uriPrefix?r.params.uriPrefix:"";if(!o)throw new Error("HyperlinkUriPrefix Formatter require a \"uriPrefix\" that can be passed through params. e.g.:: formatter: Formatters.hyperlinkUriPrefix, params: { uriPrefix: '/users/' }");return i&&o&&"string"==typeof o&&!o.includes("<script>")?'<a href="'+(o+=i)+'">'+i+"</a>":""},Hi=function(e,t,i,r,n){return'<i class="fa fa-info-circle pointer info-icon" aria-hidden="true"></i>'},Li=function(e,t,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toLowerCase():""},ji=function(e,t,i,r,n){var o=(r.params||{}).mask;if(!o)throw new Error('You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: \'000-000\' }}');if(i&&o){var s=0,a=i.toString();return o.replace(/[09A]/g,function(){return a[s++]||""})}return""},Bi=function(e,t,i,r,n,o){var s=r.params||{};if(!s.formatters||!Array.isArray(s.formatters))throw new Error('The multiple formatter requires the "formatters" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }');var a,l,u=s.formatters,c=i;try{for(var d=T(u),h=d.next();!h.done;h=d.next()){c=(0,h.value)(e,t,c,r,n,o)}}catch(p){a={error:p}}finally{try{h&&!h.done&&(l=d["return"])&&l.call(d)}finally{if(a)throw a.error}}return c},Ui=function(e,t,i,r,n){return null===i||""===i?"":"<span>"+(0<i?i/100:0)+"%</span>"},zi=function(e,t,i,r,n){return null===i||""===i?"":'<span class="percent-complete-bar" style="background:'+(i<30?"red":i<70?"silver":"green")+"; width:"+i+'%"></span>'},qi=function(e,t,i,r,n){return null===i||""===i?"-":i<50?"<span style='color:red;font-weight:bold;'>"+i+"%</span>":"<span style='color:green'>"+i+"%</span>"},Wi=function(e,t,i,r,n){return i?"<span>"+i+"%</span>":""},Yi=function(e,t,i,r,n){return null===i||""===i?"":'<div class="progress">\n    <div class="progress-bar progress-bar-'+(o=i<30?"danger":i<70?"warning":"success")+" bg-"+o+'" role="progressbar" aria-valuenow="'+i+'" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: '+i+'%;">\n    '+i+"%\n    </div>\n  </div>";var o},Xi=function(e,t,i,r,n,o){var s=((o&&"function"==typeof o.getOptions?o.getOptions():{})||r.params||{}).i18n;if(!s||"function"!=typeof s.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "i18n".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }');return i!==undefined&&"string"!=typeof i&&(i+=""),i?s.instant(i):""},Qi=function(e,t,i,r,n,o){var s=((o&&"function"==typeof o.getOptions?o.getOptions():{})||r.params||{}).i18n;if(!s||"function"!=typeof s.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "i18n".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }');return i!==undefined&&"string"!=typeof i&&(i+=""),i?s.instant(i.toUpperCase()):""},Ki=function(e,t,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toUpperCase():""},Zi=function(e,t,i,r,n){return i?"Yes":"No"},Ji={arrayObjectToCsv:ei,arrayToCsv:ti,bold:ii,checkbox:ri,checkmark:ni,complexObject:ai,collection:oi,collectionEditor:si,dateIso:ci,dateTimeIso:pi,dateTimeShortIso:Ti,dateTimeIsoAmPm:gi,dateUs:Ai,dateTimeUs:Ci,dateTimeShortUs:Pi,dateTimeUsAmPm:Si,deleteIcon:Fi,decimal:ki,dollar:$i,dollarColored:Ni,dollarColoredBold:Mi,editIcon:Vi,hyperlink:Ri,hyperlinkUriPrefix:Gi,infoIcon:Hi,lowercase:Li,mask:ji,multiple:Bi,percent:Ui,percentComplete:qi,percentCompleteBar:zi,percentSymbol:Wi,progressBar:Yi,translate:Xi,translateBoolean:Qi,uppercase:Ki,yesNo:Zi},er=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(n)+"%"+s:""},tr=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+"$"+W(n,2,4)+s:""},ir=function(e,t,i){var r=t.field||"",n=e.avg&&e.avg[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(n)+s:""},rr=function(e,t,i){var r=t.field||"",n=e.min&&e.min[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+s:""},nr=function(e,t,i){var r=t.field||"",n=e.max&&e.max[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+s:""},or=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return isNaN(+n)?"":0<=n?'<span style="color:green;">'+(o+Math.round(1e6*parseFloat(n))/1e6+s)+"</span>":'<span style="color:red;">'+(o+Math.round(1e6*parseFloat(n))/1e6+s)+"</span>"},sr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return isNaN(+n)?"":0<=n?'<span style="color:green; font-weight: bold;">'+o+"$"+W(n,2,2)+s+"</span>":'<span style="color:red; font-weight: bold;">'+o+"$"+W(n,2,2)+s+"</span>"},ar=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return isNaN(+n)?"":0<=n?'<span style="color:green;">'+o+"$"+W(n,2,2)+s+"</span>":'<span style="color:red;">'+o+"$"+W(n,2,2)+s+"</span>"},lr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?'<span style="font-weight: bold;">'+o+"$"+W(n,2,4)+s+"</span>":""},ur=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+"$"+W(n,2,2)+s:""},cr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+s:""},dr=function(e,t,i){var r=t.field||"",n=e.sum&&e.sum[r],o=t.params&&t.params.groupFormatterPrefix?t.params.groupFormatterPrefix:"",s=t.params&&t.params.groupFormatterSuffix?t.params.groupFormatterSuffix:"";return null!=n?'<span style="font-weight: bold;">'+(o+Math.round(1e6*parseFloat(n))/1e6+s):""},hr={avgTotals:ir,avgTotalsDollar:tr,avgTotalsPercentage:er,maxTotals:nr,minTotals:rr,sumTotals:cr,sumTotalsBold:dr,sumTotalsColored:or,sumTotalsDollar:ur,sumTotalsDollarBold:lr,sumTotalsDollarColored:ar,sumTotalsDollarColoredBold:sr},pr=function(){function e(e){this.filterService=e,this._isFirstRender=!0,this.onPaginationChanged=new f.EventEmitter,this.dataFrom=1,this.dataTo=1,this.pageCount=0,this.pageNumber=1,this.totalItems=0,this.paginationPageSizes=[25,75,100],this.fromToParams={from:this.dataFrom,to:this.dataTo,totalItems:this.totalItems}}return Object.defineProperty(e.prototype,"gridPaginationOptions",{get:function(){return this._gridPaginationOptions},set:function(e){this._gridPaginationOptions=e,!this._isFirstRender&&e&&e.pagination&&e.pagination.totalItems===this.totalItems||(this.refreshPagination(),this._isFirstRender=!1)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){var t=this;this._gridPaginationOptions=this._gridPaginationOptions,this._gridPaginationOptions&&this._gridPaginationOptions.pagination&&this._gridPaginationOptions.pagination.totalItems===this.totalItems||this.refreshPagination(),this._filterSubcription=this.filterService.onFilterChanged.subscribe(function(e){t.refreshPagination(!0)}),this._filterSubcription=this.filterService.onFilterCleared.subscribe(function(e){t.refreshPagination(!0)})},e.prototype.ceil=function(e){return Math.ceil(e)},e.prototype.changeToFirstPage=function(e){this.pageNumber=1,this.onPageChanged(e,this.pageNumber)},e.prototype.changeToLastPage=function(e){this.pageNumber=this.pageCount,this.onPageChanged(e,this.pageNumber)},e.prototype.changeToNextPage=function(e){this.pageNumber<this.pageCount&&(this.pageNumber++,this.onPageChanged(e,this.pageNumber))},e.prototype.changeToPreviousPage=function(e){0<this.pageNumber&&(this.pageNumber--,this.onPageChanged(e,this.pageNumber))},e.prototype.changeToCurrentPage=function(e){this.pageNumber=+e.currentTarget.value,this.pageNumber<1?this.pageNumber=1:this.pageNumber>this.pageCount&&(this.pageNumber=this.pageCount),this.onPageChanged(e,this.pageNumber)},e.prototype.dispose=function(){this.onPaginationChanged.unsubscribe(),this._filterSubcription&&this._filterSubcription.unsubscribe()},e.prototype.onChangeItemPerPage=function(e){var t=+e.target.value;this.pageCount=Math.ceil(this.totalItems/t),this.pageNumber=0<this.totalItems?1:0,this.itemsPerPage=t,this.onPageChanged(e,this.pageNumber)},e.prototype.refreshPagination=function(e){void 0===e&&(e=!1);var t=this._gridPaginationOptions.backendServiceApi;if(!t||!t.service||!t.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this._gridPaginationOptions&&this._gridPaginationOptions.pagination){var i=this._gridPaginationOptions.pagination;this.itemsPerPage||(this.itemsPerPage=+(t&&t.options&&t.options.paginationOptions&&t.options.paginationOptions.first?t.options.paginationOptions.first:this._gridPaginationOptions.pagination.pageSize)),(e||this.totalItems!==i.totalItems)&&(this._isFirstRender&&i.pageNumber&&1<i.pageNumber?this.pageNumber=i.pageNumber||1:this.pageNumber=1,1===this.pageNumber&&t.service.resetPaginationOptions()),this.paginationPageSizes=this._gridPaginationOptions.pagination.pageSizes,this.totalItems=this._gridPaginationOptions.pagination.totalItems,this.recalculateFromToIndexes()}this.pageCount=Math.ceil(this.totalItems/this.itemsPerPage)},e.prototype.onPageChanged=function(l,u){return _(this,void 0,void 0,function(){var t,i,r,n,o,s,a;return E(this,function(e){switch(e.label){case 0:if(this.recalculateFromToIndexes(),!(t=this._gridPaginationOptions.backendServiceApi)||!t.service||!t.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this.dataTo>this.totalItems?this.dataTo=this.totalItems:this.totalItems<this.itemsPerPage&&(this.dataTo=this.totalItems),!t)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),i=+this.itemsPerPage,r=new Date,t.preProcess&&t.preProcess(),n=t.service.processOnPaginationChanged(l,{newPage:u,pageSize:i}),[4,z(t.process(n))];case 2:return o=e.sent(),s=new Date,o&&t.internalPostProcess&&t.internalPostProcess(o),t.postProcess&&(o instanceof Object&&(o.statistics={startTime:r,endTime:s,executionTime:s.valueOf()-r.valueOf(),itemCount:this.totalItems,totalItemCount:this.totalItems}),t.postProcess(o)),[3,4];case 3:if(a=e.sent(),!t||!t.onError)throw a;return t.onError(a),[3,4];case 4:return[3,6];case 5:throw new Error('Pagination with a backend service requires "BackendServiceApi" to be defined in your grid options');case 6:return this.onPaginationChanged.emit({pageNumber:this.pageNumber,pageSizes:this.paginationPageSizes,pageSize:this.itemsPerPage,totalItems:this.totalItems}),[2]}})})},e.prototype.recalculateFromToIndexes=function(){0===this.totalItems?(this.dataFrom=0,this.dataTo=0,this.pageNumber=0):(this.dataFrom=this.pageNumber*this.itemsPerPage-this.itemsPerPage+1,this.dataTo=this.totalItems<this.itemsPerPage?this.totalItems:this.pageNumber*this.itemsPerPage)},e}();pr.decorators=[{type:f.Component,args:[{selector:"slick-pagination",template:'<div class="slick-pagination">\n    <div class="slick-pagination-nav">\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="(pageNumber === 1 || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-first fa fa-angle-double-left" aria-label="First" (click)="changeToFirstPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="(pageNumber === 1 || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-prev fa fa-angle-left" aria-label="Previous" (click)="changeToPreviousPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n\n        <div class="slick-page-number">\n            <span [translate]="\'PAGE\'"></span>\n            <input type="text" class="form-control" [value]="pageNumber" size="1" [readOnly]="totalItems === 0" (change)="changeToCurrentPage($event)">\n            <span [translate]="\'OF\'"></span><span> {{pageCount}}</span>\n        </div>\n\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-next text-center fa fa-lg fa-angle-right" aria-label="Next" (click)="changeToNextPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-end fa fa-lg fa-angle-double-right" aria-label="Last" (click)="changeToLastPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n    </div>\n    <span class="slick-pagination-settings">\n        <select id="items-per-page-label" [value]="itemsPerPage" (change)="onChangeItemPerPage($event)">\n        <option value="{{pageSize}}" *ngFor="let pageSize of paginationPageSizes;">{{pageSize}}</option>\n        </select>\n        <span [translate]="\'ITEMS_PER_PAGE\'"></span>,\n        <span class="slick-pagination-count">\n            <span [translate]="\'FROM_TO_OF_TOTAL_ITEMS\'" [translateParams]="{ from: dataFrom, to: dataTo, totalItems: totalItems }"></span>\n        </span>\n    </span>\n    </div>\n'}]},{type:f.Injectable}],pr.ctorParameters=function(){return[{type:gt}]},pr.propDecorators={onPaginationChanged:[{type:f.Output}],gridPaginationOptions:[{type:f.Input}],grid:[{type:f.Input}]};var fr=function(){function e(e,t,i,r,n,o,s,a,l,u,c,d,h,p){this.elm=e,this.exportService=t,this.extensionService=i,this.extensionUtility=r,this.filterService=n,this.gridService=o,this.gridEventService=s,this.gridStateService=a,this.groupingAndColspanService=l,this.resizer=u,this.sharedService=c,this.sortService=d,this.translate=h,this.forRootConfig=p,this._eventHandler=new Slick.EventHandler,this._hideHeaderRowAfterPageLoad=!1,this.groupingDefinition={},this.showPagination=!1,this.isGridInitialized=!1,this.subscriptions=[],this.onAngularGridCreated=new f.EventEmitter,this.onDataviewCreated=new f.EventEmitter,this.onGridCreated=new f.EventEmitter,this.onGridInitialized=new f.EventEmitter,this.onBeforeGridCreate=new f.EventEmitter,this.onBeforeGridDestroy=new f.EventEmitter,this.onAfterGridDestroyed=new f.EventEmitter,this.onGridStateChanged=new f.EventEmitter}return Object.defineProperty(e.prototype,"gridHeight",{set:function(e){this._fixedHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridWidth",{set:function(e){this._fixedWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._columnDefinitions},set:function(e){this._columnDefinitions=e,this.isGridInitialized&&this.updateColumnDefinitionsList(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataView.getItems()},set:function(e){this._dataset=e,this.refreshGridData(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.onBeforeGridCreate.emit(!0),!this.gridOptions||this.gridOptions.enableAutoResize||this.gridOptions.autoResize||(this.gridHeightString=this._fixedHeight+"px",this.gridWidthString=this._fixedWidth+"px")},e.prototype.ngOnDestroy=function(){this.onBeforeGridDestroy.emit(this.grid),this.destroy(),this.onAfterGridDestroyed.emit(!0)},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._dataView=[],this.gridOptions={},this._eventHandler.unsubscribeAll(),this.extensionService.dispose(),this.filterService.dispose(),this.gridEventService.dispose(),this.gridStateService.dispose(),this.groupingAndColspanService.dispose(),this.resizer.dispose(),this.sortService.dispose(),this.grid.destroy(),e&&$(this.gridOptions.gridContainerId).empty(),this.subscriptions=oe(this.subscriptions)},e.prototype.ngAfterViewInit=function(){this.initialization(),this.isGridInitialized=!0},e.prototype.initialization=function(){var t=this;this._dataset=this._dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this.createBackendApiInternalPostProcessCallback(this.gridOptions),this.customDataView||(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping?(this.extensionUtility.loadExtensionDynamically(I.groupItemMetaProvider),this.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,this._dataView=new Slick.Data.DataView({groupItemMetadataProvider:this.groupItemMetadataProvider})):this._dataView=new Slick.Data.DataView),this._columnDefinitions=this._columnDefinitions.map(function(e){return e.editor&&e.editor.collectionAsync&&t.loadEditorCollectionAsync(e),Object.assign({},e,{editor:e.editor&&e.editor.model,internalColumnEditor:Object.assign({},e.editor)})}),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.grid=new Slick.Grid("#"+this.gridId,this.customDataView||this._dataView,this._columnDefinitions,this.gridOptions),this.sharedService.dataView=this._dataView,this.sharedService.grid=this.grid,this.extensionService.attachDifferentExtensions(),this.attachDifferentHooks(this.grid,this.gridOptions,this._dataView),this.onGridCreated.emit(this.grid),this.grid.init(),!this.customDataView&&this._dataView&&this._dataView.beginUpdate&&this._dataView.setItems&&this._dataView.endUpdate&&(this.onDataviewCreated.emit(this._dataView),this._dataView.beginUpdate(),this._dataView.setItems(this._dataset,this.gridOptions.datasetIdPropertyName),this._dataView.endUpdate()),this._hideHeaderRowAfterPageLoad&&this.showHeaderRow(!1),this.executeAfterDataviewCreated(this.grid,this.gridOptions,this._dataView),this.attachResizeHook(this.grid,this.gridOptions),this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping&&this.groupingAndColspanService.init(this.grid,this._dataView),this.gridService.init(this.grid,this._dataView),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.gridOptions.enableExport&&this.exportService.init(this.grid,this._dataView),this.onGridInitialized.emit(this.grid),this.gridOptions&&this.gridOptions.backendServiceApi&&this.attachBackendCallbackFunctions(this.gridOptions),this.gridStateService.init(this.grid,this.extensionService,this.filterService,this.sortService),this.onAngularGridCreated.emit({dataView:this._dataView,slickGrid:this.grid,destroy:this.destroy.bind(this),backendService:this.gridOptions&&this.gridOptions.backendServiceApi&&this.gridOptions.backendServiceApi.service,exportService:this.exportService,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.groupingAndColspanService,extensionService:this.extensionService,pluginService:this.extensionService,resizerService:this.resizer,sortService:this.sortService})},e.prototype.commitEdit=function(e){var t=this;if(this.grid.getOptions().autoCommitEdit){var i=this.grid.getActiveCellNode();setTimeout(function(){i&&i.contains(e)&&t.grid.getEditorLock().isActive()&&t.grid.getEditorLock().commitCurrentEdit()})}},e.prototype.createBackendApiInternalPostProcessCallback=function(e){var i=this;if(e&&e.backendServiceApi){var r=e.backendServiceApi;r&&r.service&&r.service instanceof wt&&(r.internalPostProcess=function(e){var t=r&&r.service&&"function"==typeof r.service.getDatasetName?r.service.getDatasetName():"";e&&e.data&&e.data[t]?(i._dataset=e.data[t].nodes,i.refreshGridData(i._dataset,e.data[t].totalCount)):i._dataset=[]})}},e.prototype.attachDifferentHooks=function(r,i,e){var n=this;if(this.subscriptions.push(this.translate.onLangChange.subscribe(function(e){i.enableTranslate&&(n.extensionService.translateColumnHeaders(),n.extensionService.translateColumnPicker(),n.extensionService.translateGridMenu(),n.extensionService.translateHeaderMenu())})),i.presets&&Array.isArray(i.presets.columns)&&0<i.presets.columns.length){var t=this.gridStateService.getAssociatedGridColumns(r,i.presets.columns);if(t&&Array.isArray(t)&&0<t.length){if(i.enableCheckboxSelector){var o=Array.isArray(this._columnDefinitions)&&0<this._columnDefinitions.length?this._columnDefinitions[0]:null;o&&"_checkbox_selector"===o.id&&"_checkbox_selector"!==t[0].id&&t.unshift(o)}r.setColumns(t)}}if(i.enableSorting&&!this.customDataView&&(i.backendServiceApi?this.sortService.attachBackendOnSort(r,e):this.sortService.attachLocalOnSort(r,e)),i.enableFiltering&&!this.customDataView&&(this.filterService.init(r),i.presets&&Array.isArray(i.presets.filters)&&0<i.presets.filters.length&&this.filterService.populateColumnFilterSearchTerms(),i.backendServiceApi?this.filterService.attachBackendOnFilter(r):this.filterService.attachLocalOnFilter(r,this._dataView)),i.backendServiceApi){var s=i.backendServiceApi;s&&s.service&&s.service.init&&s.service.init(s.options,i.pagination,this.grid)}var a=function(i){r.hasOwnProperty(i)&&i.startsWith("on")&&l._eventHandler.subscribe(r[i],function(e,t){return n.dispatchCustomEvent("sg"+ie(i),{eventData:e,args:t})})},l=this;for(var u in r)a(u);var c=function(i){e.hasOwnProperty(i)&&i.startsWith("on")&&d._eventHandler.subscribe(e[i],function(e,t){return n.dispatchCustomEvent("sg"+ie(i),{eventData:e,args:t})})},d=this;for(var u in e)c(u);this.subscriptions.push(this.gridStateService.onGridStateChanged.subscribe(function(e){n.onGridStateChanged.emit(e)})),this.gridEventService.attachOnCellChange(r,e),this.gridEventService.attachOnClick(r,e),e&&r&&(this._eventHandler.subscribe(e.onRowCountChanged,function(e,t){r.updateRowCount(),r.render()}),this._eventHandler.subscribe(e.onRowsChanged,function(e,t){r.invalidateRows(t.rows),r.render()})),i.colspanCallback&&(this._dataView.getItemMetadata=function(e){var t=n._dataView.getItem(e);return i.colspanCallback(t)})},e.prototype.attachBackendCallbackFunctions=function(e){var t=this,o=e.backendServiceApi,i=o&&o.service&&o.service.options?o.service.options:{},r=!!i&&(!i||!i.hasOwnProperty("executeProcessCommandOnInit")||i.executeProcessCommandOnInit);if(o){var n=o.service;if(e&&e.presets)n&&n.updateFilters&&Array.isArray(e.presets.filters)&&0<e.presets.filters.length&&n.updateFilters(e.presets.filters,!0),n&&n.updateSorters&&Array.isArray(e.presets.sorters)&&0<e.presets.sorters.length&&n.updateSorters(undefined,e.presets.sorters),n&&n.updatePagination&&e.presets.pagination&&n.updatePagination(e.presets.pagination.pageNumber,e.presets.pagination.pageSize);else{var s=this.filterService.getColumnFilters();s&&n&&n.updateFilters&&n.updateFilters(s,!1)}}if(o&&o.service&&(o.onInit||r)){var a="function"==typeof o.service.buildQuery?o.service.buildQuery():"",l=r?o.process(a):o.onInit(a);setTimeout(function(){return _(t,void 0,void 0,function(){var t,i,r,n;return E(this,function(e){switch(e.label){case 0:t=new Date,o.preProcess&&o.preProcess(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,z(l)];case 2:return i=e.sent(),r=new Date,i&&o&&o.service instanceof wt&&o.internalPostProcess&&o.internalPostProcess(i),o.postProcess&&(i instanceof Object&&(i.statistics={startTime:t,endTime:r,executionTime:r.valueOf()-t.valueOf(),totalItemCount:this.gridOptions&&this.gridOptions.pagination&&this.gridOptions.pagination.totalItems}),o.postProcess(i)),[3,4];case 3:if(n=e.sent(),!o||!o.onError)throw n;return o.onError(n),[3,4];case 4:return[2]}})})})}},e.prototype.attachResizeHook=function(e,t){e&&t.autoFitColumnsOnFirstLoad&&t.enableAutoSizeColumns&&(e.autosizeColumns(),this.resizer.compensateHorizontalScroll(this.grid,this.gridOptions)),this._fixedHeight||this._fixedWidth?this.resizer.init(e,{height:this._fixedHeight,width:this._fixedWidth}):this.resizer.init(e),t.enableAutoResize&&(this.resizer.attachAutoResizeDataGrid(),e&&t.autoFitColumnsOnFirstLoad&&t.enableAutoSizeColumns&&e.autosizeColumns())},e.prototype.executeAfterDataviewCreated=function(e,t,i){t.enableSorting&&t.presets&&Array.isArray(t.presets.sorters)&&0<t.presets.sorters.length&&this.sortService.loadLocalPresets(e,i)},e.prototype.mergeGridOptions=function(e){e.gridId=this.gridId,e.gridContainerId="slickGridContainer-"+this.gridId;var t=$.extend(!0,{},ht,this.forRootConfig,e);return this._hideHeaderRowAfterPageLoad=!1===t.showHeaderRow,t.enableFiltering&&!t.showHeaderRow&&(t.showHeaderRow=t.enableFiltering),t},e.prototype.paginationChanged=function(e){(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.gridService.setSelectedRows([]),this.gridStateService.onGridStateChanged.next({change:{newValues:e,type:M.pagination},gridState:this.gridStateService.getCurrentGridState()})},e.prototype.refreshGridData=function(e,t){if(Array.isArray(e)&&this.grid&&this._dataView&&"function"==typeof this._dataView.setItems&&(this._dataView.setItems(e,this.gridOptions.datasetIdPropertyName),this.gridOptions.backendServiceApi||this._dataView.reSort(),this.grid.invalidate(),this.grid.render(),this.gridOptions.backendServiceApi&&(this.showPagination=!(!this.gridOptions.backendServiceApi||this.gridOptions.enablePagination!==undefined)||this.gridOptions.enablePagination||!1,this.gridOptions.pagination||(this.gridOptions.pagination=this.gridOptions.pagination?this.gridOptions.pagination:undefined),this.gridOptions.pagination&&t!==undefined&&(this.gridOptions.pagination.totalItems=t),this.gridOptions.presets&&this.gridOptions.presets.pagination&&this.gridOptions.pagination&&(this.gridOptions.pagination.pageSize=this.gridOptions.presets.pagination.pageSize,this.gridOptions.pagination.pageNumber=this.gridOptions.presets.pagination.pageNumber),this.gridPaginationOptions=this.mergeGridOptions(this.gridOptions)),this.grid&&this.gridOptions.enableAutoResize)){var i=this.gridOptions.autoResize&&this.gridOptions.autoResize.delay;this.resizer.resizeGrid(i||10)}},e.prototype.updateColumnDefinitionsList=function(e){this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(!1,e):this.extensionService.renderColumnHeaders(e),this.gridOptions&&this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns()},e.prototype.showHeaderRow=function(e){return this.grid.setHeaderRowVisibility(e),e},e.prototype.toggleHeaderRow=function(){var e=!this.grid.getOptions().showHeaderRow;return this.grid.setHeaderRowVisibility(e),e},e.prototype.dispatchCustomEvent=function(e,t,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var n={bubbles:i,cancelable:r};return t&&(n.detail=t),this.elm.nativeElement.dispatchEvent(new CustomEvent(e,n))},e.prototype.loadEditorCollectionAsync=function(t){var i=this,e=t&&t.editor&&t.editor.collectionAsync;e instanceof r.Observable&&this.subscriptions.push(e.subscribe(function(e){return i.updateEditorCollection(t,e)}))},e.prototype.updateEditorCollection=function(t,e){t.editor.collection=e;var i=this.grid.getColumns();Array.isArray(i)&&(i.find(function(e){return e.id===t.id}).internalColumnEditor=t.editor)},e}();fr.decorators=[{type:f.Injectable},{type:f.Component,args:[{selector:"angular-slickgrid",template:'<div id="slickGridContainer-{{gridId}}" class="gridPane" [style.width]="gridWidthString">\n    <div attr.id=\'{{gridId}}\' class="slickgrid-container" style="width: 100%" [style.height]="gridHeightString">\n    </div>\n\n    <slick-pagination id="slickPagingContainer-{{gridId}}"\n        *ngIf="showPagination"\n        (onPaginationChanged)="paginationChanged($event)"\n        [gridPaginationOptions]="gridPaginationOptions">\n    </slick-pagination>\n</div>\n',providers:[Te,xe,we,Pe,De,Et,Oe,Ee,ft,gt,wt,At,yt,Ft,kt,Mt,St,bt,Ot,Nt,Ct,_t,_e,vt,pt]}]}],fr.ctorParameters=function(){return[{type:f.ElementRef},{type:Oe},{type:Et},{type:Ee},{type:gt},{type:Ft},{type:At},{type:kt},{type:Mt},{type:Nt},{type:_e},{type:vt},{type:s.TranslateService},{type:undefined,decorators:[{type:f.Inject,args:["config"]}]}]},fr.propDecorators={onAngularGridCreated:[{type:f.Output}],onDataviewCreated:[{type:f.Output}],onGridCreated:[{type:f.Output}],onGridInitialized:[{type:f.Output}],onBeforeGridCreate:[{type:f.Output}],onBeforeGridDestroy:[{type:f.Output}],onAfterGridDestroyed:[{type:f.Output}],onGridStateChanged:[{type:f.Output}],customDataView:[{type:f.Input}],gridId:[{type:f.Input}],gridOptions:[{type:f.Input}],gridHeight:[{type:f.Input}],gridWidth:[{type:f.Input}],columnDefinitions:[{type:f.Input}],dataset:[{type:f.Input}]};var mr=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:"config",useValue:e},be,ft,wt,It]}},t}();mr.decorators=[{type:f.NgModule,args:[{imports:[b.CommonModule,s.TranslateModule],declarations:[fr,pr],exports:[fr,pr],entryComponents:[fr]}]}],mr.ctorParameters=function(){return[]},e.SlickgridConfig=pt,e.SlickPaginationComponent=pr,e.AngularSlickgridComponent=fr,e.AngularSlickgridModule=mr,e.CaseType=P,e.DelimiterType=D,e.ExtensionName=I,e.FieldType=A,e.FileType=k,e.FilterMultiplePassType=F,e.GridStateType=M,e.KeyCode=N,e.OperatorType=V,e.SortDirection=R,e.SortDirectionNumber=G,e.CollectionService=be,e.ExportService=Oe,e.ExtensionService=Et,e.FilterService=gt,e.GraphqlService=wt,e.GridOdataService=It,e.GridEventService=At,e.GridService=Ft,e.GridStateService=kt,e.GroupingAndColspanService=Mt,e.OdataService=Dt,e.ResizerService=Nt,e.SharedService=_e,e.SortService=vt,e.addWhiteSpaces=L,e.htmlEncode=j,e.htmlDecode=function yr(e){return $("<div/>").html(e).text()},e.htmlEntityDecode=B,e.htmlEntityEncode=function Sr(e){for(var t=[],i=e.length-1;0<=i;i--)t.unshift(["&#",e[i].charCodeAt(),";"].join(""));return t.join("")},e.arraysEqual=U,e.castToPromise=z,e.findOrDefault=q,e.decimalFormatted=W,e.getDescendantProperty=Y,e.getScrollBarWidth=X,e.mapMomentDateFormatWithFieldType=Q,e.mapFlatpickrDateFormatWithFieldType=K,e.mapOperatorType=Z,e.mapOperatorByFieldType=J,e.parseUtcDate=ee,e.sanitizeHtmlToText=te,e.titleCase=ie,e.toCamelCase=re,e.toKebabCase=function br(e){return re(e).replace(/([A-Z])/g,"-$1").toLowerCase()},e.uniqueArray=ne,e.unsubscribeAllObservables=oe,e.Aggregators=Ht,e.Editors=Jt,e.AutoTooltipExtension=Te,e.CellExternalCopyManagerExtension=xe,e.CheckboxSelectorExtension=we,e.ColumnPickerExtension=Pe,e.DraggableGroupingExtension=De,e.ExtensionUtility=Ee,e.GridMenuExtension=yt,e.GroupItemMetaProviderExtension=St,e.HeaderButtonExtension=bt,e.HeaderMenuExtension=Ot,e.RowMoveManagerExtension=Ct,e.RowSelectionExtension=_t,e.FilterConditions=Qe,e.Filters=dt,e.FilterFactory=ft,e.Formatters=Ji,e.GroupTotalFormatters=hr,e.Sorters=ye,e.a=$t,e.c=Rt,e.b=Vt,e.d=Gt,e.e=Lt,e.f=Bt,e.g=Ut,e.h=zt,e.i=qt,e.j=Xt,e.k=Yt,e.l=Qt,e.m=Kt,e.n=Zt,e.p=Ae,e.q=qe,e.r=Me,e.s=Ve,e.u=He,e.v=Be,e.t=ze,e.o=Xe,e.y=ke,e.w=We,e.x=Ye,e.z=Ke,e.ba=Ze,e.bb=Je,e.bc=et,e.bd=tt,e.be=it,e.bf=rt,e.bg=nt,e.bh=at,e.bj=lt,e.bi=st,e.bk=ut,e.bl=ct,e.bm=ei,e.bn=ti,e.bo=ii,e.bp=ri,e.bq=ni,e.bt=si,e.bs=oi,e.br=ai,e.bu=ci,e.bx=gi,e.bv=pi,e.bw=Ti,e.ca=Pi,e.cb=Si,e.bz=Ci,e.by=Ai,e.cd=ki,e.cc=Fi,e.cg=Mi,e.cf=Ni,e.ce=$i,e.ch=Vi,e.ci=Ri,e.cj=Gi,e.ck=Hi,e.cl=Li,e.cm=ji,e.cn=Bi,e.cq=zi,e.cp=qi,e.co=Ui,e.cr=Wi,e.cs=Yi,e.cu=Qi,e.ct=Xi,e.cv=Ki,e.cw=Zi,e.cy=tr,e.cx=ir,e.cz=er,e.da=nr,e.db=rr,e.dd=dr,e.de=or,e.dg=lr,e.di=sr,e.dh=ar,e.df=ur,e.dc=cr,e.dk=pe,e.dj=de,e.dm=ue,e.dl=me,e.dn=ge,e.do=ve,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-slickgrid.umd.min.js.map
